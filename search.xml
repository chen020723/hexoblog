<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>JVM</title>
      <link href="/post/66c016fb.html"/>
      <url>/post/66c016fb.html</url>
      
        <content type="html"><![CDATA[<h1 id="章节介绍"><a href="#章节介绍" class="headerlink" title="章节介绍"></a>章节介绍</h1><p>文章待完善~~~</p><h1 id="JVM是什么"><a href="#JVM是什么" class="headerlink" title="JVM是什么"></a>JVM是什么</h1><p>Java Virtual Machine：JAVA虚拟机</p><p>通过软件模拟的具有完整硬件系统功能、运行在一个完全隔离环境中的计算机系统，JVM通过软件来模拟Java字节码的指令集，是Java的运行环境</p><p><strong>主要功能</strong></p><ol><li>通过ClassLoader寻找和装载Class文件</li><li> 通过字节码成为指令并执行，提供class文件的运行环境</li><li>进行运行期间的内存分配和垃圾回收</li><li>提供与硬件交互的平台</li></ol><h1 id="死锁问题"><a href="#死锁问题" class="headerlink" title="死锁问题:"></a>死锁问题:</h1><h2 id="什么是死锁？"><a href="#什么是死锁？" class="headerlink" title="什么是死锁？"></a>什么是死锁？</h2><p>死锁是指两个或两个以上的线程在执行过程中，因争夺资源产生的一种互相等待的现象</p><h2 id="死锁产生的原因"><a href="#死锁产生的原因" class="headerlink" title="死锁产生的原因"></a>死锁产生的原因</h2><ol><li><p>系统资源的竞争</p></li><li><p>进程推进顺序非法</p></li></ol><h1 id="OOM问题："><a href="#OOM问题：" class="headerlink" title="OOM问题："></a>OOM问题：</h1><h2 id="什么是OOM？"><a href="#什么是OOM？" class="headerlink" title="什么是OOM？"></a>什么是OOM？</h2><p>全称“Out Of Memory”，内存用完了，</p><h2 id="为什么会OOM？"><a href="#为什么会OOM？" class="headerlink" title="为什么会OOM？"></a>为什么会OOM？</h2><p>当JVM因为没有足够的内存来为对象分配空间并且垃圾回收器也已经没有空间可回收时，就会抛出java.lang.OutOfMemoryError</p><p>具体原因大致为两方面：</p><p><strong>自身原因</strong>：比如虚拟机本身可使用的内存太少。</p><p><strong>外在原因</strong>：如应用使用的太多，且用完没释放，浪费了内存。此时就会造成内存泄露或者内存溢出。</p><p><strong>内存泄露</strong>：申请使用完的内存没有释放，导致虚拟机不能再次使用该内存，此时这段内存就泄露了，因为申请者不用了，而又不能被虚拟机分配给别人用。</p><p><strong>内存溢出</strong>：申请的内存超出了JVM能提供的内存大小，此时称之为溢出。</p><h2 id="OOM的类型"><a href="#OOM的类型" class="headerlink" title="OOM的类型"></a>OOM的类型</h2><h3 id="JVM内存模型："><a href="#JVM内存模型：" class="headerlink" title="JVM内存模型："></a>JVM内存模型：</h3><p>按照JVM规范，JAVA虚拟机在运行时会管理以下的内存区域：</p><p><strong>程序计数器（线程私有）</strong></p><p>当前线程执行的字节码的行号指示器，</p><p><strong>JAVA虚拟机栈（线程私有）</strong></p><p>Java方法执行的内存模型，每个Java方法的执行对应着一个栈帧的进栈和出栈的操作。</p><p><strong>本地方法栈（线程私有）</strong></p><p>类似“ JAVA虚拟机栈 ”，但是为native方法的运行提供内存环境。</p><p><strong>JAVA堆（线程共享）</strong></p><p>对象内存分配的地方，内存垃圾回收的主要区域，所有线程共享。可分为新生代，老生代。</p><p><strong>方法区（永久代）（线程共享）</strong></p><p>用于存储已经被JVM加载的类信息、常量、静态变量、即时编译器编译后的代码等数据。Hotspot中的“永久代”。</p><p>运行时常量池：方法区的一部分，存储常量信息，如各种字面量、符号引用等。</p><p>直接内存：并不是JVM运行时数据区的一部分， 可直接访问的内存， 比如NIO会用到这部分。</p><p>按照JVM规范，除了程序计数器不会抛出OOM外，其他各个内存区域都可能会抛出OOM。</p><h2 id="线程栈相关的内存异常："><a href="#线程栈相关的内存异常：" class="headerlink" title="线程栈相关的内存异常："></a>线程栈相关的内存异常：</h2><h3 id="OOM-OutOfMemoryError"><a href="#OOM-OutOfMemoryError" class="headerlink" title="OOM(OutOfMemoryError)"></a>OOM(OutOfMemoryError)</h3><p><strong>java.lang.OutOfMemoryError: Java heap space</strong> ——&gt;java堆内存溢出，此种情况最常见，一般由于内存泄露或者堆的大小设置不当引起。对于内存泄露，需要通过内存监控软件查找程序中的泄露代码，而堆大小可以通过虚拟机参数-Xms,-Xmx等修改。<br><strong>java.lang.OutOfMemoryError: PermGen space</strong> ——&gt;java永久代溢出，即方法区溢出了，一般出现于大量Class或者jsp页面，或者采用cglib等反射机制的情况，因为上述情况会产生大量的Class信息存储于方法区。此种情况可以通过更改方法区的大小来解决，使用类似-XX:PermSize=64m -XX:MaxPermSize=256m的形式修改。另外，过多的常量尤其是字符串也会导致方法区溢出。</p><p><strong>java.lang.OutOfMemoryError</strong>: Metaspace(元空间用尽)<br>JAVA8引入了Metaspace区域,元空间并不在虚拟机中,使用本地内存。<br>通过设置-XX:MaxMetaspaceSize=512m 空间分配。</p><p><strong>java.lang.OutOfMemoryError</strong>: GC overhead limit exceeded<br>程序耗尽了所有的可用内存,GC在连续多次都只回收了不到2%的极端情况下才会抛出。</p><h3 id="SOF-StackOverflow-栈"><a href="#SOF-StackOverflow-栈" class="headerlink" title="SOF(StackOverflow)栈"></a>SOF(StackOverflow)栈</h3><p><strong>java.lang.StackOverflowError ——&gt; 不会抛OOM error</strong>，但也是比较常见的Java内存溢出。JAVA虚拟机栈溢出，一般是由于程序中存在死循环或者深度递归调用造成的，栈大小设置太小也会出现此种溢出。可以通过虚拟机参数-Xss来设置栈的大小。</p><h1 id="JVM故障排查"><a href="#JVM故障排查" class="headerlink" title="JVM故障排查"></a>JVM故障排查</h1><p>作用：</p><p>对JVM运行期间的内部情况进行监控，比如：对jvm参数、CPU、内存、堆等信息的查看</p><p>辅助进行性能调优<br>辅助解决应用运行时的一些问题，比如：OOM异常、内存泄漏、线程死锁、锁争用、JAVA进程CPU消耗过高等等一系列问题，这些问题，不好定位问题，需要通过JVM来定位问题</p><h2 id="命令行工具"><a href="#命令行工具" class="headerlink" title="命令行工具"></a>命令行工具</h2><p><strong>jps命令：</strong></p><p>用来输出JVM中运行的进程状态的信息</p><p><strong>jinfo命令：语法：jinfo pid</strong> </p><p>打印给定进程或核心文件或远程调试服务器的配置文件</p><p><strong>jstack：语法：jstack pid</strong></p><p>主要用来查看某个java进程内的线程堆栈信息。</p><p><strong>jmap：语法：jmap -histo:live pid</strong></p><p>用来查看堆内存的使用情况</p><p><strong>jstat：语法：jstat -gc pid</strong></p><p>JVM统计检测工具，查看各个区内存和GC的情况</p><p><strong>jstated：语法：jstated pid</strong></p><p>虚拟机jstat的守护进程，主要用于监控JVM的创建与终止，并提供一个接口，以允许远程监控工具附加到本地系统上允许的JVM里</p><p><strong>jcmd：</strong></p><p>虚拟机诊断命令工具，将诊断命令请求发送到正在执行的java虚拟机中，比如可以用来导出堆，查看java进程，导出线程信息，执行GC</p><h2 id="图形化工具"><a href="#图形化工具" class="headerlink" title="图形化工具"></a>图形化工具</h2><p><strong>jconsole：</strong></p><p>一个用于监视Java虚拟机的图形工具</p><p><strong>jmc：</strong></p><p>通过使用飞行记录器记录我们的热点类和热点方法</p><p><strong>visualvm：</strong></p>]]></content>
      
      
      <categories>
          
          <category> jvm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> jvm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo部署个人服务器</title>
      <link href="/post/73e88b67.html"/>
      <url>/post/73e88b67.html</url>
      
        <content type="html"><![CDATA[<h1 id="文章介绍"><a href="#文章介绍" class="headerlink" title="文章介绍"></a>文章介绍</h1><p>因之前部署到Github和coding上，会有搜索引擎索引搜索不到问题，所以又吧hexo部署到了个人服务器</p><p>在部署个人服务器之前需关闭之前在<strong>Github</strong>&amp;&amp;<strong>Coding</strong>上的Pages配置</p><h1 id="环境要求"><a href="#环境要求" class="headerlink" title="环境要求"></a>环境要求</h1><p>笔者环境：</p><p>阿里云服务器：CentOS 8.4 64位</p><p>git：</p><ol><li>windows：2.29.2.windows.2</li><li>Linux：2.27.0</li></ol><h1 id="git安装与配置"><a href="#git安装与配置" class="headerlink" title="git安装与配置"></a>git安装与配置</h1><p>windows安装之前的文章讲过，跳过，此处只讲Linux的git安装</p><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 更新安装源</span></span><br><span class="line">$ sudo yum update</span><br><span class="line"><span class="comment"># 安装git工具</span></span><br><span class="line">$ sudo yum install git</span><br></pre></td></tr></table></figure><h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name <span class="string">&quot;Your Name&quot;</span></span><br><span class="line">git config --global user.email <span class="string">&quot;name@mailname.com&quot;</span></span><br></pre></td></tr></table></figure><h2 id="查看配置信息"><a href="#查看配置信息" class="headerlink" title="查看配置信息"></a>查看配置信息</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --list</span><br></pre></td></tr></table></figure><h2 id="为linux服务器新建用户"><a href="#为linux服务器新建用户" class="headerlink" title="为linux服务器新建用户"></a>为linux服务器新建用户</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 用户名就是git，若不存在用户目录，则会创建</span></span><br><span class="line">adduser -d /home/git -m git  </span><br><span class="line"></span><br><span class="line"><span class="comment"># 输入设置git用户的密码，此步骤在此不展示，建议密码设置复杂点，毕竟是放在网上的</span></span><br><span class="line">passwd git</span><br><span class="line"></span><br><span class="line"><span class="comment"># 编辑/etc/sudoers文件，在rootALL=(ALL) ALL之后回车追加以下内容</span></span><br><span class="line">gitALL=(ALL) ALL</span><br></pre></td></tr></table></figure><h2 id="添加SSH信任"><a href="#添加SSH信任" class="headerlink" title="添加SSH信任"></a>添加SSH信任</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">chmod 755 /home/git</span><br><span class="line"></span><br><span class="line"><span class="comment"># 切换用户并进入当前用户目录</span></span><br><span class="line">su git</span><br><span class="line"><span class="built_in">cd</span> /home/git</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建文件并给予权限</span></span><br><span class="line">mkdir .ssh &amp;&amp; chmod 700 .ssh</span><br><span class="line">touch .ssh/authorized_keys &amp;&amp; chmod 600 .ssh/authorized_keys</span><br></pre></td></tr></table></figure><h2 id="上传本地id-rsa-pub"><a href="#上传本地id-rsa-pub" class="headerlink" title="上传本地id_rsa_pub"></a>上传本地id_rsa_pub</h2><p>linux新开一个终端</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># root用户下执行</span></span><br><span class="line"><span class="built_in">cd</span> ~/.ssh/</span><br><span class="line"></span><br><span class="line"><span class="comment"># 此步将id_rsa.pub上传当前目录再执行查看</span></span><br><span class="line">ls ./id_rsa.pub</span><br><span class="line"></span><br><span class="line"><span class="comment"># cp到git用户目录下</span></span><br><span class="line">scp ./id_rsa.pub root@114.xxx.xxx.xxx:/home/git</span><br></pre></td></tr></table></figure><p>切换用户</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 切换到git用户</span></span><br><span class="line">su git</span><br><span class="line"></span><br><span class="line"><span class="comment"># 进入git用户的家目录</span></span><br><span class="line"><span class="built_in">cd</span> /home/git</span><br><span class="line"></span><br><span class="line"><span class="comment">#将id_rsa.pub文件内容追加到authorized_keys中</span></span><br><span class="line">cat ./id_rsa.pub &gt;&gt; .ssh/authorized_keys</span><br></pre></td></tr></table></figure><h2 id="本地Git-Bash-Here连接服务器"><a href="#本地Git-Bash-Here连接服务器" class="headerlink" title="本地Git Bash Here连接服务器"></a>本地Git Bash Here连接服务器</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 连接</span></span><br><span class="line">ssh git@服务器IP</span><br><span class="line"></span><br><span class="line"><span class="comment"># 新仓库要建立在哪个文件夹自己选，我直接放在git用户的目录下</span></span><br><span class="line"><span class="built_in">cd</span> /home/git</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建一个新仓库目录</span></span><br><span class="line">mkdir hexoblog.git</span><br><span class="line"></span><br><span class="line"><span class="comment"># 进入新仓库目录</span></span><br><span class="line"><span class="built_in">cd</span> hexoblog.git</span><br><span class="line"></span><br><span class="line"><span class="comment"># 初始化该新仓库</span></span><br><span class="line">git init --bare</span><br><span class="line"></span><br><span class="line"><span class="comment"># 出现以下内容表示成功</span></span><br><span class="line">Initialized empty Git repository <span class="keyword">in</span> /home/git/hexoblog.git/</span><br></pre></td></tr></table></figure><p>如连接时报错：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ECDSA host key <span class="keyword">for</span> [ip address] has changed and you have requested strict checking</span><br></pre></td></tr></table></figure><p>解决：修改本地.ssh下的host文件即可，删除与服务器连接信息</p><p>至此，服务器上的git仓库搭建完毕，地址为：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git@服务器IP:/home/git/hexoblog.git</span><br></pre></td></tr></table></figure><h2 id="git仓库使用git-hooks自动部署"><a href="#git仓库使用git-hooks自动部署" class="headerlink" title="git仓库使用git-hooks自动部署"></a>git仓库使用git-hooks自动部署</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 新建部署后文件位置</span></span><br><span class="line">sudo mkdir -p /home/web/hexo</span><br></pre></td></tr></table></figure><p>仓库下新建/hooks/post-update文件，新增内容</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line">git --work-tree=/home/web/hexo --git-dir=/home/git/hexoblog.git checkout -f</span><br></pre></td></tr></table></figure><p>给post-update权限</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /home/git/hexoblog.git/hooks/</span><br><span class="line"></span><br><span class="line">sudo chown -R git:git /home/web/hexo</span><br><span class="line"></span><br><span class="line"><span class="comment"># 赋予其可执行权限</span></span><br><span class="line">sudo chmod +x post-update</span><br></pre></td></tr></table></figure><h1 id="本地hexo配置"><a href="#本地hexo配置" class="headerlink" title="本地hexo配置"></a>本地hexo配置</h1><p>修改根目录下config.yml文件</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">  <span class="attr">repository:</span> </span><br><span class="line">    <span class="attr">repo:</span> <span class="string">git@服务器IP:/home/git/hexoblog.git</span></span><br><span class="line">  <span class="attr">branch:</span> <span class="string">master</span> <span class="comment">#把博客推送至主分支</span></span><br></pre></td></tr></table></figure><p>至此，在根目录Git Bash Here执行</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean &amp;&amp; hexo g &amp;&amp; hexo d</span><br></pre></td></tr></table></figure><p>查看服务器/home/web/hexo目录下生成静态文件，至此完成！！</p>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>搭建hexo博客</title>
      <link href="/post/4a416765.html"/>
      <url>/post/4a416765.html</url>
      
        <content type="html"><![CDATA[<h1 id="1-文章介绍"><a href="#1-文章介绍" class="headerlink" title="1.文章介绍"></a>1.文章介绍</h1><p>此文章总结不易，参考各个文章总结，如有问题请留言…..</p><h1 id="2-环境要求"><a href="#2-环境要求" class="headerlink" title="2.环境要求"></a>2.环境要求</h1><p>笔者环境：</p><p>win11 64位；</p><p>node.js：v14.15.3 64位；</p><p>git：2.29.2.windows.2 64位</p><p>编写代码使用Notepad++</p><h2 id="node-js安装"><a href="#node-js安装" class="headerlink" title="node.js安装"></a>node.js安装</h2><h3 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h3><p><a href="https://nodejs.org/download/release/v14.15.3/node-v14.15.3-x64.msi">node-v14.15.3-x64.msi</a></p><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><p>自主安装（修改安装路径，一路next）</p><h3 id="验证安装是否成功"><a href="#验证安装是否成功" class="headerlink" title="验证安装是否成功"></a>验证安装是否成功</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">cmd 查看版本</span><br><span class="line">C:\Users\hong&gt;node -v</span><br><span class="line">v14.15.3</span><br><span class="line"></span><br><span class="line">C:\Users\hong&gt;npm -v</span><br><span class="line">6.14.9</span><br></pre></td></tr></table></figure><h3 id="设置全局目录"><a href="#设置全局目录" class="headerlink" title="设置全局目录"></a>设置全局目录</h3><p>命令提示行打入：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm conﬁg <span class="built_in">set</span> preﬁx <span class="string">&quot;E:\environment\nodejs\node_global&quot;</span></span><br><span class="line">npm conﬁg <span class="built_in">set</span> cache <span class="string">&quot;E:\environment\nodejs\node_cache&quot;</span></span><br></pre></td></tr></table></figure><h2 id="git安装"><a href="#git安装" class="headerlink" title="git安装"></a>git安装</h2><h3 id="下载-1"><a href="#下载-1" class="headerlink" title="下载"></a>下载</h3><p><a href="https://github.com/git-for-windows/git/releases/download/v2.33.1.windows.1/Git-2.33.1-64-bit.exe">Git-2.33.1-64-bit.exe</a></p><h3 id="安装-1"><a href="#安装-1" class="headerlink" title="安装"></a>安装</h3><p>自主安装（修改安装路径，一路next）</p><h3 id="验证安装是否成功-1"><a href="#验证安装是否成功-1" class="headerlink" title="验证安装是否成功"></a>验证安装是否成功</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cmd 查看版本</span><br><span class="line">C:\Users\hong&gt;git --version</span><br><span class="line">git version 2.33.1</span><br></pre></td></tr></table></figure><h3 id="设置"><a href="#设置" class="headerlink" title="设置"></a>设置</h3><p>Github在下文需要时介绍，设置在部署Github再执行也不迟</p><p>桌面右键，选择Git Bash Here</p><ol><li><p>设置Github的名字和邮箱</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name <span class="string">&quot;你的名字&quot;</span></span><br><span class="line">git config --global user.email“你的邮箱<span class="string">&quot;</span></span><br></pre></td></tr></table></figure></li><li><p>生成ssh</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C <span class="string">&quot;你的名字/你的邮箱&quot;</span></span><br></pre></td></tr></table></figure><p>然后会出现以下内容</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Generating public/private rsa key pair.</span><br><span class="line">Enter file <span class="keyword">in</span> <span class="built_in">which</span> to save the key (/c/Users/Administrator/.ssh/id_rsa):</span><br><span class="line">/c/Users/Administrator/.ssh/id_rsa already exists.</span><br><span class="line">Overwrite (y/n)? y（输入y）</span><br><span class="line">Enter passphrase (empty <span class="keyword">for</span> no passphrase):（回车）</span><br><span class="line">Enter same passphrase again:（回车）</span><br></pre></td></tr></table></figure><p>系统会自动在.ssh文件夹(<strong>.SSH在C:\Users\Windows用户名目录下</strong>)下生成两个文件，id_rsa和id_rsa.pub，用Notepad++打开id_rsa.pub，复制到</p><p><img src="https://cdn.jsdelivr.net/gh/chen020723/pic@master/img/image-20211107121902194.png" alt="image-20211107121902194"></p></li><li><p>验证与github连接是否成功</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -T git@github.com</span><br></pre></td></tr></table></figure></li></ol><h1 id="3-Hexo"><a href="#3-Hexo" class="headerlink" title="3.Hexo"></a>3.Hexo</h1><h2 id="指令"><a href="#指令" class="headerlink" title="指令"></a>指令</h2><p><a href="https://hexo.io/zh-cn/docs/commands.html">Hexo指令</a></p><h2 id="安装-2"><a href="#安装-2" class="headerlink" title="安装"></a>安装</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 选择存放博客文件的位置，鼠标右键，选择Git Bash Here</span></span><br><span class="line"><span class="comment"># 依次执行完成以下操作</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 1.hexo框架的全局安装</span></span><br><span class="line">npm install -g hexo-cli</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2.新建一个网站，[folder]改自定义博客文件夹名称</span></span><br><span class="line">hexo init [folder]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3.进入博客文件夹</span></span><br><span class="line"><span class="built_in">cd</span> 上一步博客文件夹名称</span><br><span class="line"></span><br><span class="line"><span class="comment"># 4.安装博客所需要的依赖文件</span></span><br><span class="line">npm install</span><br></pre></td></tr></table></figure><p>运行完成，此时博客文件夹中多了许多文件， 此时 Hexo 框架的本地搭建已经完成了。</p><p><img src="https://cdn.jsdelivr.net/gh/chen020723/pic@master/img/image-20211107122548660.png" alt="image-20211107122548660"></p><h2 id="验证"><a href="#验证" class="headerlink" title="验证"></a>验证</h2><p>生成静态文件并启动服务</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo g &amp;&amp;  hexo s</span><br></pre></td></tr></table></figure><p>运行成功最后一行出现</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">INFO  Hexo is running at http://localhost:4000 . Press Ctrl+C to stop.</span><br></pre></td></tr></table></figure><p>浏览器中打开 <a href="http://localhost:4000/">http://localhost:4000</a> 或127.0.0.1:4000，看到网页，则运行成功</p><h1 id="butterfly主题"><a href="#butterfly主题" class="headerlink" title="butterfly主题"></a>butterfly主题</h1><h2 id="安装-3"><a href="#安装-3" class="headerlink" title="安装"></a>安装</h2><p>在hexo根目录执行</p><ol><li><p>下载</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> -b master https://gitee.com/immyw/hexo-theme-butterfly.git themes/butterfly</span><br></pre></td></tr></table></figure></li><li><p>应用主题</p><p>修改hexo根目录下的_config.yml，修改主题</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">theme:</span> <span class="string">butterfly</span></span><br></pre></td></tr></table></figure></li><li><p>安装插件，pug 以及 stylus 的渲染器</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-renderer-pug hexo-renderer-stylus --save</span><br></pre></td></tr></table></figure></li><li><p>升级建议</p><p>为减少升级主题带来的不便，采用以下方法</p><p>hexo根目录下创建config.butterfly.yml，主题（磁盘:\博客跟目录\themes\butterfly）下的config.yml內容复制到刚刚创建的config.butterfly.yml</p><p>注：</p><ol><li>主题目录下的config.yml不可删</li><li>以后只需要配置config.butterfly.yml即可，配置主题下config.yml无效</li></ol></li></ol><h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><p>修改配置文件config.yml</p><h3 id="语言修改"><a href="#语言修改" class="headerlink" title="语言修改"></a>语言修改</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">language:</span> <span class="string">zh-CN</span></span><br></pre></td></tr></table></figure><h3 id="导航菜单"><a href="#导航菜单" class="headerlink" title="导航菜单"></a>导航菜单</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 例如</span></span><br><span class="line"><span class="attr">menu:</span></span><br><span class="line">  <span class="string">首页:</span> <span class="string">/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-home</span></span><br><span class="line">  <span class="string">时间轴:</span> <span class="string">/archives/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-archive</span></span><br><span class="line">  <span class="string">标签:</span> <span class="string">/tags/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-tags</span></span><br><span class="line">  <span class="string">分类:</span> <span class="string">/categories/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-folder-open</span></span><br><span class="line">  <span class="string">清单||fa</span> <span class="attr">fa-heartbeat:</span></span><br><span class="line">    <span class="string">音乐:</span> <span class="string">/music/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-music</span></span><br><span class="line">    <span class="string">照片:</span> <span class="string">/Gallery/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-images</span></span><br><span class="line">    <span class="string">电影:</span> <span class="string">/movies/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-video</span></span><br><span class="line">  <span class="string">关于:</span> <span class="string">/about/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-heart</span></span><br></pre></td></tr></table></figure><h3 id="搜索系统"><a href="#搜索系统" class="headerlink" title="搜索系统"></a>搜索系统</h3><h4 id="安装-4"><a href="#安装-4" class="headerlink" title="安装"></a>安装</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-search --save</span><br></pre></td></tr></table></figure><h4 id="修改配置"><a href="#修改配置" class="headerlink" title="修改配置"></a>修改配置</h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">local_search:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h3 id="评论（twikoo）"><a href="#评论（twikoo）" class="headerlink" title="评论（twikoo）"></a>评论（twikoo）</h3><h4 id="手动部署"><a href="#手动部署" class="headerlink" title="手动部署"></a>手动部署</h4><ol><li>购买腾讯云 云开发CloudBase，推荐上海环境，名称自由填写</li><li>进入<a href="https://console.cloud.tencent.com/tcb/">云开发控制台(opens new window)</a></li><li>进入<a href="https://console.cloud.tencent.com/tcb/env/login">环境-登录授权 (opens new window)</a>，启用“匿名登录”</li><li>进入<a href="https://console.cloud.tencent.com/tcb/env/safety">环境-安全配置 (opens new window)</a>，将网站域名添加到“WEB安全域名”</li><li>进入<a href="https://console.cloud.tencent.com/tcb/scf/index">环境-云函数 (opens new window)</a>，点击“新建云函数”</li><li>函数名称请填写：<code>twikoo</code>，创建方式请选择：<code>空白函数</code>，运行环境请选择：Nodejs12.16，函数内存请选择：256MB`，点击“下一步”</li><li>清空输入框中的示例代码，复制以下代码、粘贴到“函数代码”输入框中，点击“确定”</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">exports</span>.main = <span class="built_in">require</span>(<span class="string">&#x27;twikoo-func&#x27;</span>).main</span><br></pre></td></tr></table></figure><ol start="8"><li><p>创建完成后，点击“twikoo”进入云函数详情页，进入“函数代码”标签，点击“文件 - 新建文件”，输入 <code>package.json</code>，回车</p></li><li><p>复制以下代码、粘贴到代码框中，点击“保存并安装依赖”</p></li></ol><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123; <span class="attr">&quot;dependencies&quot;</span>: &#123; <span class="attr">&quot;twikoo-func&quot;</span>: <span class="string">&quot;1.4.10&quot;</span> &#125; &#125;</span><br></pre></td></tr></table></figure><ol start="10"><li><p>环境ID (envId) 填写到配置上</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">twikoo:</span></span><br><span class="line">  <span class="attr">envId:</span></span><br><span class="line">  <span class="attr">region:</span></span><br><span class="line">  <span class="attr">visitor:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">option:</span></span><br></pre></td></tr></table></figure></li><li><p>开启评论</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">comments:</span></span><br><span class="line">  <span class="comment"># Up to two comments system, the first will be shown as default</span></span><br><span class="line">  <span class="comment"># Choose: Disqus/Disqusjs/Livere/Gitalk/Valine/Waline/Utterances/Facebook Comments/Twikoo</span></span><br><span class="line">  <span class="attr">use:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">Twikoo</span> </span><br><span class="line">  <span class="attr">text:</span> <span class="literal">true</span> <span class="comment"># Display the comment name next to the button</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">lazyload:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">count:</span> <span class="literal">false</span> <span class="comment"># Display comment count in post&#x27;s top_img</span></span><br><span class="line">  <span class="attr">card_post_count:</span> <span class="literal">false</span> <span class="comment"># Display comment count in Home Page</span></span><br></pre></td></tr></table></figure></li></ol><h4 id="开启twikoo评论管理面板"><a href="#开启twikoo评论管理面板" class="headerlink" title="开启twikoo评论管理面板"></a>开启twikoo评论管理面板</h4><ol><li>进入环境-登录授权 (opens new window)，点击“自定义登录”右边的“私钥下载”，下载私钥文件</li><li>用文本编辑器打开私钥文件，复制全部内容</li><li>点击评论窗口的“小齿轮”图标，粘贴私钥文件内容，并设置管理员密码</li></ol><h2 id="推荐插件"><a href="#推荐插件" class="headerlink" title="推荐插件"></a>推荐插件</h2><h3 id="文章生成永久url连接"><a href="#文章生成永久url连接" class="headerlink" title="文章生成永久url连接"></a>文章生成永久url连接</h3><h4 id="安装-5"><a href="#安装-5" class="headerlink" title="安装"></a>安装</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-abbrlink --save</span><br></pre></td></tr></table></figure><h4 id="配置-1"><a href="#配置-1" class="headerlink" title="配置"></a>配置</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"># 改动的地方</span><br><span class="line">url: http://域名</span><br><span class="line">root: /</span><br><span class="line">#permalink: :year/:month/:day/:title/</span><br><span class="line">permalink: post/:abbrlink.html</span><br><span class="line">abbrlink:</span><br><span class="line">  alg: crc32  # 算法：crc16(default) and crc32</span><br><span class="line">  rep: hex    # 进制：dec(default) and hex</span><br><span class="line">permalink_defaults:</span><br><span class="line">pretty_urls:</span><br><span class="line">  trailing_index: true # Set to false to remove trailing &#x27;index.html&#x27; from permalinks</span><br><span class="line">  trailing_html: true # Set to false to remove trailing &#x27;.html&#x27; from permalinks</span><br></pre></td></tr></table></figure><h3 id="文章密码"><a href="#文章密码" class="headerlink" title="文章密码"></a>文章密码</h3><h4 id="安装-6"><a href="#安装-6" class="headerlink" title="安装"></a>安装</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save hexo-blog-encrypt</span><br></pre></td></tr></table></figure><h4 id="配置文章信息头"><a href="#配置文章信息头" class="headerlink" title="配置文章信息头"></a>配置文章信息头</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: Hello World</span><br><span class="line">tags:</span><br><span class="line">- 作为日记加密</span><br><span class="line">date: 2016-03-30 21:12:21</span><br><span class="line">password: 密码</span><br><span class="line">abstract: 有东西被加密了, 请输入密码查看.</span><br><span class="line">message: 您好, 这里需要密码.</span><br><span class="line">theme: xray</span><br><span class="line">wrong_pass_message: 抱歉, 这个密码看着不太对, 请再试试.</span><br><span class="line">wrong_hash_message: 抱歉, 这个文章不能被校验, 不过您还是能看看解密后的内容.</span><br><span class="line">---</span><br></pre></td></tr></table></figure><p>样式：theme: default || blink ||shrink ||flip ||up ||surge|| wave || xray</p><h1 id="部署到Github"><a href="#部署到Github" class="headerlink" title="部署到Github"></a>部署到Github</h1><p>本地博客已经安装完成，但是只限于在本地，博客需要让别人访问，所以部署到Github Pages上，Github托管了博客，别人就可以访问</p><h2 id="部署"><a href="#部署" class="headerlink" title="部署"></a>部署</h2><ol><li><p>创建仓库</p><ol><li>仓库名：用户名.github.io</li><li>Public   公开</li></ol></li><li><p>创建完成后，复制仓库SSH地址，粘贴到博客文件夹下的config.yml文件里</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">  <span class="attr">repository:</span> </span><br><span class="line">    <span class="attr">github:</span> <span class="string">git@github.com:chen020723/chen020723.github.io.git</span> <span class="comment">#把博客推送至github</span></span><br><span class="line">  <span class="attr">branch:</span> <span class="string">master</span> <span class="comment">#把博客推送至主分支</span></span><br></pre></td></tr></table></figure></li><li><p>安装hexo部署插件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 博客根目录执行</span></span><br><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure></li><li><p>如之前git未设置此刻必须设置（生成.SSH，设置Github用户名和邮箱）</p></li><li><p>博客根目录下打开Git Bash Here执行</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 本地文件部署到github新建的仓库中</span><br><span class="line">hexo d</span><br></pre></td></tr></table></figure></li><li><p>通过访问<strong>https://自己的用户名.github.io</strong>就可以访问部署到Github上的博客</p></li></ol><h2 id="Github自定义域名"><a href="#Github自定义域名" class="headerlink" title="Github自定义域名"></a>Github自定义域名</h2><ol><li>购买域名，解析：<ol><li>记录类型：CNAME</li><li>记录值：自己的用户名.github.io</li></ol></li><li>博客根目录下的source文件夹下新建CNAME文件，<strong>无后缀！</strong>，里面填入域名，保存</li><li>使用hexo d命令将博客部署到Github上</li><li>进入Github的博客仓库依次点击Setting—&gt;Page</li></ol><p><img src="https://cdn.jsdelivr.net/gh/chen020723/pic@master/img/image-20211107135714801.png" alt="image-20211107135714801"></p><h1 id="又拍云CDN全站加速"><a href="#又拍云CDN全站加速" class="headerlink" title="又拍云CDN全站加速"></a>又拍云CDN全站加速</h1><h2 id="注册"><a href="#注册" class="headerlink" title="注册"></a>注册</h2><ol><li><p>注册又拍云：**<a href="https://console.upyun.com/register/?invite=BkHDGCzMw">点我注册</a>**</p></li><li><p>加入又拍云联盟：<a href="https://www.upyun.com/league">https://www.upyun.com/league</a> 点击申请</p></li></ol><h2 id="创建CDN服务"><a href="#创建CDN服务" class="headerlink" title="创建CDN服务"></a>创建CDN服务</h2><ol><li>创建CDN</li></ol><p><img src="https://cdn.jsdelivr.net/gh/chen020723/pic@master/img/2021-11-07_144420.jpg" alt="2021-11-07_144420"></p><ol start="2"><li>又拍云提供的CNAME地址（进入服务-》域名管理），去域名提供商解析到加速域名</li><li>GitHub Pages需取消强制HTTPS</li></ol><h2 id="配置-2"><a href="#配置-2" class="headerlink" title="配置"></a>配置</h2><p>进入CDN服务配置</p><ol><li><p>配置SSL</p><ul><li>进入HTTPS设置</li><li>申请免费SSL证书：<ul><li>又拍云申请</li><li>域名服务商申请</li></ul></li><li>开启HTTPS</li></ul></li><li><p>优化配置</p><ul><li><p>开启 Gzip 和 Brotli，压缩级别调到3</p></li><li><p>开启页面压缩</p></li><li><p>HTTP 302 调度</p></li><li><p>开启TLS1.3，最低建议TLSv1.1</p></li><li><p>开启 HTTP/2 + Server Push</p></li><li><p>WebP 自适应</p></li><li><p>开启源站资源迁移</p></li></ul></li><li><p>IP访问限制</p><p><img src="https://cdn.jsdelivr.net/gh/chen020723/pic@master/img/image-20200826104652023.png"></p></li><li><p>CC防护</p><p><img src="https://cdn.jsdelivr.net/gh/chen020723/pic@master/img/image-20200826104833875.png"></p></li></ol><h1 id="jsDelivr-Github做图床"><a href="#jsDelivr-Github做图床" class="headerlink" title="jsDelivr+Github做图床"></a>jsDelivr+Github做图床</h1><ol><li><p>创建 Github 仓库，名字随意，并使用readme.md初始化仓库</p></li><li><p>获取 token，生成的token保存</p><p><img src="https://cdn.jsdelivr.net/gh/chen020723/pic@master/img/image-20211107151745392.png" alt="image-20211107151745392"></p></li><li><p>填入 PicGo 配置</p><p><img src="https://cdn.jsdelivr.net/gh/chen020723/pic@master/img/snipaste_20211107_152156.png"></p><p>自定义域名：<a href="https://cdn.jsdelivr.net/gh/%E7%94%A8%E6%88%B7%E5%90%8D/%E4%BB%93%E5%BA%93%E5%90%8D@master">https://cdn.jsdelivr.net/gh/用户名/仓库名@master</a></p></li></ol><h1 id="Typora集成PicGo"><a href="#Typora集成PicGo" class="headerlink" title="Typora集成PicGo"></a>Typora集成PicGo</h1><h2 id="PicGO-2-3-0"><a href="#PicGO-2-3-0" class="headerlink" title="PicGO 2.3.0"></a>PicGO 2.3.0</h2><p>激活 PicGo-Server，进入 PicGo 设置–设置 Server，默认</p><h2 id="Typora-0-9-86"><a href="#Typora-0-9-86" class="headerlink" title="Typora 0.9.86"></a>Typora 0.9.86</h2><p>（文件-&gt;偏好设置-&gt;图像）</p><p><img src="https://cdn.jsdelivr.net/gh/chen020723/pic@master/img/image-20211107152722112.png" alt="image-20211107152722112"></p><h1 id="推荐插件和配置"><a href="#推荐插件和配置" class="headerlink" title="推荐插件和配置"></a>推荐插件和配置</h1><h2 id="文章生成永久url连接-1"><a href="#文章生成永久url连接-1" class="headerlink" title="文章生成永久url连接"></a>文章生成永久url连接</h2><ol><li><p>首先安装插件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-abbrlink --save</span><br></pre></td></tr></table></figure></li><li><p>然后改配置(_config.yml)</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 改动的地方</span></span><br><span class="line"><span class="attr">url:</span> <span class="string">http://youthlql.gitee.io</span></span><br><span class="line"><span class="attr">root:</span> <span class="string">/</span></span><br><span class="line"><span class="comment">#permalink: :year/:month/:day/:title/</span></span><br><span class="line"><span class="attr">permalink:</span> <span class="string">post/:abbrlink.html</span></span><br><span class="line"><span class="attr">abbrlink:</span></span><br><span class="line">  <span class="attr">alg:</span> <span class="string">crc32</span>  <span class="comment"># 算法：crc16(default) and crc32</span></span><br><span class="line">  <span class="attr">rep:</span> <span class="string">hex</span>    <span class="comment"># 进制：dec(default) and hex</span></span><br><span class="line"><span class="attr">permalink_defaults:</span></span><br><span class="line"><span class="attr">pretty_urls:</span></span><br><span class="line">  <span class="attr">trailing_index:</span> <span class="literal">true</span> <span class="comment"># Set to false to remove trailing &#x27;index.html&#x27; from permalinks</span></span><br><span class="line">  <span class="attr">trailing_html:</span> <span class="literal">true</span> <span class="comment"># Set to false to remove trailing &#x27;.html&#x27; from permalinks</span></span><br></pre></td></tr></table></figure></li></ol><h1 id="美化"><a href="#美化" class="headerlink" title="美化"></a>美化</h1><p>butterfly主题下：</p><h2 id="css"><a href="#css" class="headerlink" title="css"></a>css</h2><p>source-&gt;css-&gt;新建任意名字.css</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">1.每一个不同地方的css会空两行</span></span><br><span class="line"><span class="comment">2.参考: https://www.antmoe.com/posts/a811d614/</span></span><br><span class="line"><span class="comment">  https://butterfly.lete114.top/article/Butterfly-config.html</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 版权链接去掉下划线 */</span></span><br><span class="line"><span class="selector-class">.layout_post</span> <span class="selector-class">.post-copyright</span> <span class="selector-class">.post-copyright-info</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">text-decoration</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 博主昵称颜色 --也就是首页侧边栏头像下面那个昵称*/</span></span><br><span class="line"><span class="selector-class">.author-info__name</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#121a2a</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 页脚透明 */</span></span><br><span class="line"><span class="selector-id">#footer</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: transparent <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 首页中间打字效果上方 */</span></span><br><span class="line"><span class="selector-id">#page-header</span> <span class="selector-id">#site_title</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#80bdab</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 顶部导航栏 */</span></span><br><span class="line"><span class="selector-id">#nav</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#f9f2f4</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*页脚自定义字段字体颜色,也就是配置文件里的footer_custom_text*/</span></span><br><span class="line"><span class="selector-class">.footer_custom_text</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#EEEEEE</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*鼠标样式*/</span></span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">    <span class="attribute">cursor</span>: <span class="built_in">url</span>(<span class="string">https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/Hexo/img/default.cur</span>),</span><br><span class="line">        default;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">a</span>,</span><br><span class="line"><span class="selector-tag">img</span> &#123;</span><br><span class="line">    <span class="attribute">cursor</span>: <span class="built_in">url</span>(<span class="string">https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/Hexo/img/pointer.cur</span>),</span><br><span class="line">        default;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 滚动条 */</span></span><br><span class="line">::-webkit-scrollbar &#123;</span><br><span class="line">  width: <span class="number">14px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">14px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">::-webkit-scrollbar-track &#123;</span><br><span class="line">  background-color: <span class="built_in">rgba</span>( <span class="number">86</span>, <span class="number">190</span>, <span class="number">150</span>, <span class="number">0.2</span>);</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">2em</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">::-webkit-scrollbar-thumb &#123;</span><br><span class="line">  background-color: <span class="number">#4BB994</span>;</span><br><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">-webkit-linear-gradient</span>(</span><br><span class="line">    <span class="number">45deg</span>,</span><br><span class="line">    <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.4</span>) <span class="number">25%</span>,</span><br><span class="line">    transparent <span class="number">25%</span>,</span><br><span class="line">    transparent <span class="number">50%</span>,</span><br><span class="line">    <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.4</span>) <span class="number">50%</span>,</span><br><span class="line">    <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.4</span>) <span class="number">75%</span>,</span><br><span class="line">    transparent <span class="number">75%</span>,</span><br><span class="line">    transparent</span><br><span class="line">  );</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">2em</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">::-webkit-scrollbar-corner &#123;</span><br><span class="line">  background-color: transparent;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">::-moz-selection &#123;</span><br><span class="line">  color: <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#4BB994</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* a标签默认颜色 */</span></span><br><span class="line"><span class="selector-id">#article-container</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#00c4b6</span>;</span><br><span class="line">    <span class="attribute">text-decoration</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 鼠标悬停时的颜色 */</span></span><br><span class="line"><span class="selector-id">#article-container</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#e58a8a</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*a标签颜色*/</span></span><br><span class="line"><span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#00c4b6</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*文章顶部图透明*/</span></span><br><span class="line"><span class="selector-id">#page-header</span> &#123;</span><br><span class="line">     <span class="attribute">background</span>: transparent <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#page-header</span><span class="selector-class">.post-bg</span>:before &#123;</span><br><span class="line">     position: absolute;</span><br><span class="line">     <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">     <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">     <span class="attribute">display</span>: block;</span><br><span class="line">     <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">     <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">     <span class="attribute">background</span>: transparent <span class="meta">!important</span>; <span class="comment">/*这个rgba可以自己改*/</span></span><br><span class="line">     <span class="attribute">content</span>: <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*--------------------下面是暂时用不到的css样式--------------------*/</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 自定义字体，暂时用不到先注释掉*/</span></span><br><span class="line"><span class="comment">/* @font-face &#123;</span></span><br><span class="line"><span class="comment">    font-family: &#x27;mycustom_font&#x27;;</span></span><br><span class="line"><span class="comment">    src: url(&#x27;https://cdn.jsdelivr.net/gh/youthlql/static/font/chun_feng_kai.ttf&#x27;);</span></span><br><span class="line"><span class="comment">font-size: 16px;</span></span><br><span class="line"><span class="comment">&#125; */</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="js"><a href="#js" class="headerlink" title="js"></a>js</h2><p>source-&gt;js-&gt;新建任意名字.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//随机背景图片数组,图片可以换成图床链接，注意最后一条后面不要有逗号</span></span><br><span class="line"><span class="keyword">var</span> backimg =[</span><br><span class="line">  <span class="string">&quot;url(https://cdn.jsdelivr.net/gh/chen020723/pic@master/img/shan.jpg)&quot;</span></span><br><span class="line">  ];</span><br><span class="line">  <span class="comment">//获取背景图片总数，生成随机数</span></span><br><span class="line">  <span class="keyword">var</span> bgindex =<span class="built_in">Math</span>.ceil(<span class="built_in">Math</span>.random() * (backimg.length-<span class="number">1</span>));</span><br><span class="line">  <span class="comment">//重设背景图片</span></span><br><span class="line">  <span class="built_in">document</span>.getElementById(<span class="string">&quot;web_bg&quot;</span>).style.backgroundImage = backimg[bgindex];</span><br><span class="line">  <span class="comment">//重设banner图片</span></span><br><span class="line">  <span class="built_in">document</span>.getElementById(<span class="string">&quot;page-header&quot;</span>).style.backgroundImage = backimg[bgindex];</span><br></pre></td></tr></table></figure><h2 id="引入js，css"><a href="#引入js，css" class="headerlink" title="引入js，css"></a>引入js，css</h2><p>主题配置</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;https://hexo.pifrij.cn/css/Lete.css&quot;&gt;</span></span><br><span class="line">  <span class="attr">bottom:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">src=&quot;https://hexo.pifrij.cn/js/Lete.js&quot;&gt;&lt;/script&gt;</span></span><br></pre></td></tr></table></figure><h1 id="阿里自定义图标"><a href="#阿里自定义图标" class="headerlink" title="阿里自定义图标"></a>阿里自定义图标</h1><p><a href="https://www.iconfont.cn/home/index">阿里图标库</a></p><ol><li>搜索图标然后加入你的项目</li></ol><p><a href="https://cdn.jsdelivr.net/gh/youthlql/lqlp@v1.2.0/Hexo/build/0022.png"><img src="https://cdn.jsdelivr.net/gh/chen020723/pic@master/img/0022.png" alt="img"></a></p><ol start="2"><li>访问你的那个链接，然后将代码复制到你自己的css文件里，然后像这样给其设置颜色</li></ol><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">CSS</span><br><span class="line"><span class="selector-class">.icon-shuji</span>:before &#123;</span><br><span class="line">  content: <span class="string">&quot;\e609&quot;</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#59AAFF</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="3"><li>最后把你的css和js引入到配置文件中</li></ol><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;https://hexo.pifrij.cn/css/icon.css&quot;&gt;</span></span><br><span class="line">  <span class="attr">bottom:</span></span><br></pre></td></tr></table></figure><h1 id="站长之家统计"><a href="#站长之家统计" class="headerlink" title="站长之家统计"></a>站长之家统计</h1><ol><li><p><a href="https://www.umeng.com/">友盟+</a> ，产品-&gt;网站统计 U-Web</p></li><li><p>点击统计代码</p></li><li><p>复制下方的<strong>横排数据显示</strong>代码到 <code>custom_text</code></p></li></ol><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">footer:</span></span><br><span class="line">  <span class="attr">owner:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">since:</span> <span class="number">2020</span></span><br><span class="line">  <span class="attr">custom_text:</span> </span><br><span class="line">  <span class="attr">copyright:</span> <span class="literal">true</span> <span class="comment"># Copyright of theme and framework</span></span><br></pre></td></tr></table></figure><p>结尾</p><p>参考文档：</p><p><a href="https://imlql.cn/post/bb283ed3.html">Youth的时光录</a></p><p><a href="https://www.heson10.com/posts/30982.html">黑石博客</a></p><p><a href="https://butterfly.lete114.top/article/Butterfly-config.html#%E5%BC%95%E5%85%A5">Lete乐特 ’s Blog</a></p><p><a href="https://butterfly.js.org/">Butterfly</a></p><p><a href="https://twikoo.js.org/quick-start.html#%E4%BA%91%E5%87%BD%E6%95%B0%E9%83%A8%E7%BD%B2">Twikoo 中文文档</a></p>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
