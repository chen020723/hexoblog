<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Linux的docker安装及命令</title>
      <link href="/post/cfd441f3.html"/>
      <url>/post/cfd441f3.html</url>
      
        <content type="html"><![CDATA[<h1 id="安装docker"><a href="#安装docker" class="headerlink" title="安装docker"></a>安装docker</h1><p>yum install docker</p><h2 id="查看版本"><a href="#查看版本" class="headerlink" title="查看版本"></a>查看版本</h2><p>docker -v</p><h2 id="ustc的docker镜像加速器"><a href="#ustc的docker镜像加速器" class="headerlink" title="ustc的docker镜像加速器"></a>ustc的docker镜像加速器</h2><p>编辑文件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/docker/daemon.json</span><br></pre></td></tr></table></figure><p>添加</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">&quot;registry-mirrors&quot;: [&quot;https://docker.mirrors.ustc.edu.cn&quot;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>重启服务</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart docker.service</span><br></pre></td></tr></table></figure><h2 id="命令"><a href="#命令" class="headerlink" title="命令"></a>命令</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">systemctl start docker 运行docker</span><br><span class="line">systemctl stop docker 关闭docker</span><br><span class="line">systemctl restart docker 重启docker</span><br><span class="line">systemctl enable docker 开机启动</span><br><span class="line">systemctl status docker 查看docker状态</span><br><span class="line"></span><br><span class="line">docker info 查看docker概要信息</span><br><span class="line">docker --help 查看docker帮助文档</span><br><span class="line">docker search 镜像名称 搜索远程镜像</span><br><span class="line">docker pull 镜像名称 下载远程镜像</span><br><span class="line">docker images 查看本地镜像</span><br></pre></td></tr></table></figure><p>删除本地镜像</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker rmi mysql:latest(镜像名:版本号)</span><br><span class="line">docker rmi $IMAGE_ID(指定镜像image_ID)</span><br><span class="line">docker rmi `docker images -q`(删除所有镜像)</span><br></pre></td></tr></table></figure><p>创建容器</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker create -p 宿主机端口:容器端口 --name 容器名称 镜像版本</span><br></pre></td></tr></table></figure><p>创建容器参数说明</p><p>创建容器命令：docker run</p><p>-i：表示运行容器</p><p>-t：表示容器启动后会进入其命令行。加入这两个参数后，容器创建就能登录进去。即分配一个伪终端。</p><p>–name :为创建的容器命名。</p><p>-v：表示目录映射关系（前者是宿主机目录，后者是映射到宿主机上的目录），可以使用多个－v做多个目录或文件映射。注意：最好做目录映射，在宿主机上做修改，然后共享到容器上。</p><p>-d：在run后面加上-d参数,则会创建一个守护式容器在后台运行（这样创建容器后不会自动登录容器，如果只加-i -t两个参数，创建后就会自动进去容器）。</p><p>-p：表示端口映射，前者是宿主机端口，后者是容器内的映射端口。可以使用多个－p做多个端口映射</p><p>退出当前容器，该容器也随之停止</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -it --name=mycentos centos:7 /bin/bash 交互式容器</span><br></pre></td></tr></table></figure><p>exit退出时，容器不会停止</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">docker run -di --name=mycentos2 centos 守护式容器</span><br><span class="line">docker exec -it (容器名或id) /bin/bash 登录守护式容器方式</span><br><span class="line">docker container ls -a 查看所有容器</span><br><span class="line">docker container ls 查看运行容器</span><br><span class="line">docker ps 查看运行容器</span><br><span class="line">docker start 容器名或容器id 启动容器</span><br><span class="line">docker stop 容器名或容器id 停止容器</span><br></pre></td></tr></table></figure><p>删除容器</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker rm 容器名或容器id</span><br><span class="line">docker rm `docker ps -a -q` (删除所有容器)</span><br></pre></td></tr></table></figure><p>查看容器ip</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker inspect --format=&#x27;&#123;&#123;.NetworkSettings.IPAddress&#125;&#125;&#x27; myredis-6381</span><br></pre></td></tr></table></figure><p>容器日志查看</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker logs -f 容器名</span><br></pre></td></tr></table></figure><p>查看容器进程</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker top 容器名</span><br></pre></td></tr></table></figure><h2 id="jar镜像容器"><a href="#jar镜像容器" class="headerlink" title="jar镜像容器"></a>jar镜像容器</h2><p>基于构建文件构建镜像</p><p>创建/opt下创建eureka_server目录</p><p>导入jar包</p><p>创建<strong>buildFile</strong>文件，内容</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">FROM openjdk:latest</span><br><span class="line">VOLUME /var/eureka_datas</span><br><span class="line">ADD jar包名 jar包别名</span><br><span class="line">ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/包别名&quot;]</span><br><span class="line">EXPOSE 10086</span><br></pre></td></tr></table></figure><p>构建镜像：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker build -t 起名:版本号 .</span><br></pre></td></tr></table></figure><p>app-springboot.jar 包在容器内目录为 /usr/local/custom/app-springboot.jar</p><p>注意：暴露(EXPOSE 8080)的端口号应该与 springboot 项目的端口号(server.port)保持一致，否则无法访问。　　</p><p>使用docker build命令构建镜像，’.’ 表示当前目录，指 jar包与Dockerfile 在同一目录下。 </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker build -t docker-test .</span><br></pre></td></tr></table></figure><h1 id="相关报错"><a href="#相关报错" class="headerlink" title="相关报错"></a>相关报错</h1><h2 id="容器启动时IPv4"><a href="#容器启动时IPv4" class="headerlink" title="容器启动时IPv4"></a>容器启动时IPv4</h2><p>编辑</p><p>/usr/lib/sysctl.d/00-system.conf</p><p>添加</p><p>net.ipv4.ip_forward=1</p><p>重启</p><p>systemctl restart network</p>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
          <category> docker </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>搭建vue开发环境</title>
      <link href="/post/faf5fe31.html"/>
      <url>/post/faf5fe31.html</url>
      
        <content type="html"><![CDATA[<h1 id="node安装"><a href="#node安装" class="headerlink" title="node安装"></a><strong>node安装</strong></h1><p>本章提供<strong>node-v14.15.3-x64.msi</strong></p><h2 id="下载"><a href="#下载" class="headerlink" title="下载"></a><strong>下载</strong></h2><p><a href="https://nodejs.org/en/"><span class="underline">https://nodejs.org/en/</span></a> </p><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a><strong>安装</strong></h2><p>运行node-v14.15.3-x64.msi </p><p>l 重启计算机  </p><h2 id="测试"><a href="#测试" class="headerlink" title="测试"></a><strong>测试</strong></h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">node -v 查看node版本</span><br><span class="line">npm -v 查看npm版本</span><br></pre></td></tr></table></figure><h2 id="设置全局目录"><a href="#设置全局目录" class="headerlink" title="设置全局目录"></a><strong>设置全局目录</strong></h2><p>命令提示行打入：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm conﬁg <span class="built_in">set</span> preﬁx <span class="string">&quot;E:\environment\nodejs\node_global&quot;</span></span><br></pre></td></tr></table></figure><p>再打入：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm conﬁg <span class="built_in">set</span> cache <span class="string">&quot;E:\environment\nodejs\node_cache&quot;</span></span><br></pre></td></tr></table></figure><h1 id="vue脚手架安装"><a href="#vue脚手架安装" class="headerlink" title="vue脚手架安装"></a><strong>vue脚手架安装</strong></h1><h2 id="卸载"><a href="#卸载" class="headerlink" title="卸载"></a><strong>卸载</strong></h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm uninstall vue-cli -g  <span class="comment">## 卸载 vue-cli (1.x or 2.x)</span></span><br></pre></td></tr></table></figure><h2 id="安装-1"><a href="#安装-1" class="headerlink" title="安装"></a><strong>安装</strong></h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g \@vue/cli</span><br></pre></td></tr></table></figure><p>安装之后，就可以在命令行中使用 vue 命令。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">vue   <span class="comment">## 查看 vue 相关帮助信息</span></span><br><span class="line">vue --version   <span class="comment">## 查看安装的 vue cli 版本信息</span></span><br></pre></td></tr></table></figure><p>只要能查看到版本信息，则表明已经安装好了。</p><p>在工作区执行</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vue create 项目名</span><br></pre></td></tr></table></figure><p>即可</p><h1 id="清理缓存"><a href="#清理缓存" class="headerlink" title="清理缓存"></a><strong>清理缓存</strong></h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm cache clean -force</span><br></pre></td></tr></table></figure><h1 id="axios"><a href="#axios" class="headerlink" title="axios"></a><strong>axios</strong></h1><p>安装：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install axios</span><br></pre></td></tr></table></figure><p>main.js导入</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span></span><br><span class="line">axios.defaults.baseURL = <span class="string">&quot;http://localhost:9000/v1&quot;</span></span><br><span class="line">Vue.prototype.$http = axios</span><br></pre></td></tr></table></figure><h2 id="请求token携带"><a href="#请求token携带" class="headerlink" title="请求token携带"></a><strong>请求token携带</strong></h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//设置请求时 设置携带token</span></span><br><span class="line">axios.interceptors.request.use(<span class="function"><span class="params">request</span>=&gt;</span>&#123;</span><br><span class="line"> <span class="comment">//获取token</span></span><br><span class="line"><span class="keyword">let</span> token = sessionStorage.getItem(\<span class="string">&quot;token\&quot;);</span></span><br><span class="line"><span class="string">if(token)&#123;</span></span><br><span class="line"><span class="string">request.headers.authorization = token</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">return request</span></span><br><span class="line"><span class="string">&#125; , error=&gt;&#123;&#125;)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">//请求失败，就响应 登录失效</span></span><br><span class="line"><span class="string">axios.interceptors.response.use(response=&gt;&#123;return response&#125;,error=&gt;&#123;</span></span><br><span class="line"><span class="string">//发生error就</span></span><br><span class="line"><span class="string">if(error.response)&#123;</span></span><br><span class="line"><span class="string">    switch(error.response.status)&#123;</span></span><br><span class="line"><span class="string">    case 401 :</span></span><br><span class="line"><span class="string">//删除token</span></span><br><span class="line"><span class="string">     sessionStorage.removeItem(\&quot;token\&quot;)</span></span><br><span class="line"><span class="string">     alert(\&quot;登录失效\&quot;)</span></span><br><span class="line"><span class="string">     //跳转</span></span><br><span class="line"><span class="string">     router.replace(&#123;</span></span><br><span class="line"><span class="string">       path : \&quot;/\&quot;</span></span><br><span class="line"><span class="string">    &#125;)</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">return Promise.reject(error.response.data);</span></span><br><span class="line"><span class="string">&#125;)</span></span><br></pre></td></tr></table></figure><h1 id="element-ui"><a href="#element-ui" class="headerlink" title="element-ui"></a><strong>element-ui</strong></h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i element-ui -S</span><br></pre></td></tr></table></figure><p>安装：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> ElementUI <span class="keyword">from</span> <span class="string">&#x27;element-ui&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;element-ui/lib/theme-chalk/index.css&#x27;</span></span><br><span class="line"><span class="comment">// import locale from &#x27;element-ui/lib/locale/lang/en&#x27; // lang i18n</span></span><br><span class="line"><span class="keyword">import</span> locale <span class="keyword">from</span> <span class="string">&#x27;element-ui/lib/locale/lang/zh-CN&#x27;</span> <span class="comment">// lang i18n</span></span><br><span class="line">Vue.use(ElementUI, &#123; locale &#125;)</span><br></pre></td></tr></table></figure><h1 id="echars"><a href="#echars" class="headerlink" title="echars"></a><strong>echars</strong></h1><p>引入 echars 5.0 遇到报错 &quot;export ‘default’ (imported as ‘echarts’) was not found in ‘echarts’</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> echarts <span class="keyword">from</span> <span class="string">&#x27;echarts&#x27;</span>;</span><br></pre></td></tr></table></figure><p>// 或</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> echarts = <span class="built_in">require</span>(<span class="string">&#x27;echarts&#x27;</span>);</span><br></pre></td></tr></table></figure><h1 id="node-sass"><a href="#node-sass" class="headerlink" title="node-sass"></a><strong>node-sass</strong></h1><p>//卸载 node-sass</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm uninstall node-sass</span><br></pre></td></tr></table></figure><p>//然后安装最新版本（5.0之前）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install node-sass\@4.14.1</span><br></pre></td></tr></table></figure><h1 id="sass-loader"><a href="#sass-loader" class="headerlink" title="sass-loader"></a><strong>sass-loader</strong></h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev sass-loader</span><br></pre></td></tr></table></figure><p>若出错，因为sass-loader版本过高导致，可以将其package.json中的版本改为7.3.1，然后再重新install</p><h1 id="less-loader"><a href="#less-loader" class="headerlink" title="less-loader"></a><strong>less-loader</strong></h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm uninstall less-loader</span><br><span class="line">npm install less-loader\@5.0.0</span><br></pre></td></tr></table></figure><p>关于less-loader报错：</p><p>安装的版本过高：TypeError: this.getOptions is not a function</p><h1 id="normalize默认元素样式"><a href="#normalize默认元素样式" class="headerlink" title="normalize默认元素样式"></a><strong>normalize默认元素样式</strong></h1><p>安装</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save normalize.css</span><br></pre></td></tr></table></figure><p>css样式放入指定目录</p><p>main.js入口引入</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&quot;assets/css/normalize.css&quot;</span></span><br></pre></td></tr></table></figure><h1 id="vue-cli3-封装Svgicon组件"><a href="#vue-cli3-封装Svgicon组件" class="headerlink" title="vue cli3 封装Svgicon组件"></a><strong>vue cli3 封装Svgicon组件</strong></h1><p>第一步:在src文件下新建icons文件放置svg文件的文件夹</p><p><img src="https://cdn.jsdelivr.net/gh/chen020723/pic@master/img/image-20211111174635253.png" alt="image-20211111174635253"></p><p>icons文件下的index.js文件中的代码如下：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> SvgIcon <span class="keyword">from</span> <span class="string">&#x27;@/components/SvgIcon&#x27;</span><span class="comment">// svg组件</span></span><br><span class="line"><span class="comment">// register globally</span></span><br><span class="line">Vue.component(<span class="string">&#x27;svg-icon&#x27;</span>, SvgIcon)</span><br><span class="line"><span class="keyword">const</span> requireAll = <span class="function"><span class="params">requireContext</span> =&gt;</span> requireContext.keys().map(requireContext)</span><br><span class="line"><span class="keyword">const</span> req = <span class="built_in">require</span>.context(<span class="string">&#x27;./svg&#x27;</span>, <span class="literal">false</span>, <span class="regexp">/\.svg$/</span>)</span><br><span class="line">requireAll(req)</span><br></pre></td></tr></table></figure><p>第二步:在components文件下新建SvgIcon组件</p><p><img src="https://cdn.jsdelivr.net/gh/chen020723/pic@master/img/image-20211111174733925.png" alt="image-20211111174733925"></p><p>SvgIcon组件源码:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;svg :class=&quot;svgClass&quot; aria-hidden=&quot;true&quot;&gt;</span><br><span class="line">       &lt;use :xlink:href=&quot;iconName&quot;&gt;&lt;/use&gt;</span><br><span class="line">     &lt;/svg&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script type=&quot;text/ecmascript-6&quot;&gt;</span><br><span class="line">  export default &#123;</span><br><span class="line">    name: &#x27;svg-icon&#x27;,</span><br><span class="line">    props: &#123;</span><br><span class="line">      iconClass: &#123;</span><br><span class="line">        type: String,</span><br><span class="line">        required: true</span><br><span class="line">      &#125;,</span><br><span class="line">      className: &#123;</span><br><span class="line">        type: String</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    computed: &#123;</span><br><span class="line">      iconName() &#123;</span><br><span class="line">        return `#icon-$&#123;this.iconClass&#125;`</span><br><span class="line">      &#125;,</span><br><span class="line">      svgClass() &#123;</span><br><span class="line">        if (this.className) &#123;</span><br><span class="line">          return &#x27;svg-icon &#x27; + this.className</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">          return &#x27;svg-icon&#x27;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">  .svg-icon &#123;</span><br><span class="line">    width: 1em;</span><br><span class="line">    height: 1em;</span><br><span class="line">    vertical-align: -0.15em;</span><br><span class="line">    fill: currentColor;</span><br><span class="line">    overflow: hidden;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>第三步:main.js中引入icons文件</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./icons&#x27;</span>;<span class="comment">//引入图库</span></span><br></pre></td></tr></table></figure><p>第四步:安装svg-sprite-loader，创建配置vue.config.js</p><p>需要的loader</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install svg-sprite-loader --save</span><br></pre></td></tr></table></figure><p>vue.config.js文件内容如下：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line"> <span class="attr">chainWebpack</span>: <span class="function"><span class="params">config</span> =&gt;</span> &#123;</span><br><span class="line">   config.module</span><br><span class="line"> .rule(<span class="string">&#x27;svg&#x27;</span>)</span><br><span class="line">  .exclude.add(resolve(<span class="string">&#x27;src/icons&#x27;</span>))</span><br><span class="line">  .end();</span><br><span class="line">   config.module</span><br><span class="line">  .rule(<span class="string">&#x27;icons&#x27;</span>)</span><br><span class="line">  .test(<span class="regexp">/\.svg$/</span>)</span><br><span class="line">  .include.add(resolve(<span class="string">&#x27;src/icons&#x27;</span>))</span><br><span class="line">  .end()</span><br><span class="line">  .use(<span class="string">&#x27;svg-sprite-loader&#x27;</span>)</span><br><span class="line">  .loader(<span class="string">&#x27;svg-sprite-loader&#x27;</span>)</span><br><span class="line">  .options(&#123;</span><br><span class="line">     <span class="attr">symbolId</span>: <span class="string">&#x27;icon-[name]&#x27;</span></span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>最后直接在组件中使用icon-class为svg名字的图标即可</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;svg-icon icon-class=&quot;password&quot; /&gt;</span><br></pre></td></tr></table></figure><h1 id="sweetArt-vue弹框"><a href="#sweetArt-vue弹框" class="headerlink" title="sweetArt vue弹框"></a><strong>sweetArt vue弹框</strong></h1><p>安装依赖</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save sweetalert</span><br></pre></td></tr></table></figure><p> 二, main.js 全局引入</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> swal <span class="keyword">from</span> <span class="string">&#x27;sweetalert&#x27;</span>;</span><br></pre></td></tr></table></figure><p> 三, 使用组件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">swal(&#123;</span><br><span class="line">title: &quot;Good job!&quot;,</span><br><span class="line">text: &quot;You clicked the button!&quot;,</span><br><span class="line">icon: &quot;success&quot;,</span><br><span class="line">button: &quot;Aww yiss!&quot;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>title:标题</p><p>text:内容文字</p><p>icon:图标 <strong>“warning”</strong>, <strong>“error”</strong>, <strong>“success”,</strong> <strong>“info”</strong></p><p>button:按钮</p><p>具体内容可浏览 SweetAlert  文档</p><p>文档地址:<a href="https://sweetalert.js.org/">https://sweetalert.js.org/</a></p><h1 id="vue-移动端调试工具（vconsole）"><a href="#vue-移动端调试工具（vconsole）" class="headerlink" title="vue 移动端调试工具（vconsole）"></a><strong>vue 移动端调试工具（vconsole）</strong></h1><p>1、安装</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install vconsole</span><br></pre></td></tr></table></figure><p>2、在main.js引入</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vconsole <span class="keyword">from</span> <span class="string">&#x27;vconsole&#x27;</span>;</span><br><span class="line"><span class="keyword">new</span> Vconsole();</span><br></pre></td></tr></table></figure><p>3、在需要的地方</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">console.log(内容)</span><br></pre></td></tr></table></figure><h1 id="vue二维码"><a href="#vue二维码" class="headerlink" title="vue二维码"></a><strong>vue二维码</strong></h1><ol><li>引入二维码生成模块</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install qrcodejs2 --save</span><br></pre></td></tr></table></figure><ol start="2"><li>引入使用</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> QRCode <span class="keyword">from</span> <span class="string">&#x27;qrcodejs2&#x27;</span>;</span><br></pre></td></tr></table></figure><ol start="3"><li>页面展示与配置</li></ol><p>放置生成二维码图片的容器</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;qrCode&quot; ref=&quot;qrCodeDiv&quot;&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure><p>js代码有三种放入位置</p><p>第一种：放置在mounted生命周期函数中</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">mounted</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line"><span class="keyword">new</span> QRCode(<span class="built_in">this</span>.$refs.qrCodeDiv, &#123;</span><br><span class="line"><span class="attr">text</span>: <span class="string">&quot;https://www.baidu.com&quot;</span>,</span><br><span class="line"><span class="attr">width</span>: <span class="number">200</span>,</span><br><span class="line"><span class="attr">height</span>: <span class="number">200</span>,</span><br><span class="line"><span class="attr">colorDark</span>: <span class="string">&quot;#333333&quot;</span>, <span class="comment">//二维码颜色</span></span><br><span class="line"><span class="attr">colorLight</span>: <span class="string">&quot;#ffffff&quot;</span>,<span class="comment">//二维码背景色</span></span><br><span class="line"><span class="attr">correctLevel</span>: QRCode.CorrectLevel.L<span class="comment">//容错率，L/M/H</span></span><br><span class="line">&#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>第二种：放置在created生命周期函数中，但是注意一定要放在this.$nextTick的回掉函数中</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">created</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line"><span class="built_in">this</span>.$nextTick(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="keyword">new</span> QRCode(<span class="built_in">this</span>.$refs.qrCodeDiv, &#123;</span><br><span class="line"><span class="attr">text</span>: <span class="string">&quot;https://www.baidu.com&quot;</span>,</span><br><span class="line"><span class="attr">width</span>: <span class="number">200</span>,</span><br><span class="line"><span class="attr">height</span>: <span class="number">200</span>,</span><br><span class="line"><span class="attr">colorDark</span>: <span class="string">&quot;#333333&quot;</span>, <span class="comment">//二维码颜色</span></span><br><span class="line"><span class="attr">colorLight</span>: <span class="string">&quot;#ffffff&quot;</span>, <span class="comment">//二维码背景色</span></span><br><span class="line"><span class="attr">correctLevel</span>: QRCode.CorrectLevel.L <span class="comment">//容错率，L/M/H</span></span><br><span class="line">&#125;);</span><br><span class="line">&#125;);</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><p>第三种方式：放置在methods属性中的指定方法中，并且在mouted生命周期函数中调用这个方法（最好也把这个方法的调用放置在this.$nextTick的回掉函数中）</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">mounted: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="built_in">this</span>.$nextTick(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="built_in">this</span>.bindQRCode();</span><br><span class="line">&#125;)</span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">methods</span>: &#123;</span><br><span class="line"><span class="attr">bindQRCode</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="keyword">new</span> QRCode(<span class="built_in">this</span>.$refs.qrCodeDiv, &#123;</span><br><span class="line"><span class="attr">text</span>: <span class="string">&#x27;https://www.baidu.com&#x27;</span>,</span><br><span class="line"><span class="attr">width</span>: <span class="number">200</span>,</span><br><span class="line"><span class="attr">height</span>: <span class="number">200</span>,</span><br><span class="line"><span class="attr">colorDark</span>: <span class="string">&quot;#333333&quot;</span>, <span class="comment">//二维码颜色</span></span><br><span class="line"><span class="attr">colorLight</span>: <span class="string">&quot;#ffffff&quot;</span>, <span class="comment">//二维码背景色</span></span><br><span class="line"><span class="attr">correctLevel</span>: QRCode.CorrectLevel.L<span class="comment">//容错率，L/M/H</span></span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>4.注意点</p><ol><li><p>显示内容(text所指向内容)必须是UTF-8编码格式。</p></li><li><p>生成二维码js必须在 this.$nextTick(function(){调用})或setTimeout(() =&gt; { 调用 }, 100)，是为了确保二维码容器DOM已经存在。</p></li><li><p>为了防止重复生成二维码，使用置空进行控制：</p></li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">document.getElementById(&quot;qrcode&quot;).innerHTML = &quot;&quot;;</span><br></pre></td></tr></table></figure><h1 id="不可复制网页内容"><a href="#不可复制网页内容" class="headerlink" title="不可复制网页内容"></a><strong>不可复制网页内容</strong></h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">this</span>.$nextTick(<span class="function">() =&gt;</span> &#123;</span><br><span class="line"><span class="comment">// 禁用右键</span></span><br><span class="line"><span class="built_in">document</span>.oncontextmenu = <span class="keyword">new</span> <span class="built_in">Function</span>(<span class="string">&quot;event.returnValue=false&quot;</span>);</span><br><span class="line"><span class="comment">// 禁用选择</span></span><br><span class="line"><span class="built_in">document</span>.onselectstart = <span class="keyword">new</span> <span class="built_in">Function</span>(<span class="string">&quot;event.returnValue=false&quot;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p><strong>打包big文件</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">performance: &#123;</span><br><span class="line"><span class="attr">hints</span>: <span class="string">&quot;warning&quot;</span>, <span class="comment">// 枚举</span></span><br><span class="line"><span class="attr">maxAssetSize</span>: <span class="number">30000000</span>, <span class="comment">// 整数类型（以字节为单位）</span></span><br><span class="line"><span class="attr">maxEntrypointSize</span>: <span class="number">50000000</span>, <span class="comment">// 整数类型（以字节为单位）</span></span><br><span class="line"><span class="attr">assetFilter</span>: <span class="function"><span class="keyword">function</span> (<span class="params">assetFilename</span>) </span>&#123;</span><br><span class="line"><span class="comment">// 提供资源文件名的断言函数</span></span><br><span class="line"><span class="keyword">return</span> assetFilename.endsWith(<span class="string">&#x27;.css&#x27;</span>) || assetFilename.endsWith(<span class="string">&#x27;.js&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><h1 id="屏幕自适应"><a href="#屏幕自适应" class="headerlink" title="屏幕自适应"></a><strong>屏幕自适应</strong></h1><h2 id="vue-cli3配置方法"><a href="#vue-cli3配置方法" class="headerlink" title="vue/cli3配置方法"></a><strong>vue/cli3配置方法</strong></h2><p><strong>在项目目录下安装 flexible和 postcss-px2rem</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm i lib-flexible --save</span><br><span class="line">npm i postcss-px2rem --save</span><br></pre></td></tr></table></figure><p><strong>引入lib-flexible</strong></p><p>在项目入口文件main.js 中引入lib-flexible</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;lib-flexible&#x27;</span></span><br></pre></td></tr></table></figure><p><strong>删除index.html里的meta标签</strong></p><blockquote><p><strong>flexible</strong>会为页面根据屏幕自动添加标签，动态控制initial-scale，maximum-scale，minimum-scale等属性的值</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>配置postcss-px2rem</strong></p><blockquote><p>px2rem的配置放在vue-cli3 项目中vue.config.js，找不到，可能你是一个新构建的项目，需要手动在项目根目录创建vue.config.js</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">   <span class="attr">css</span>: &#123;</span><br><span class="line">       <span class="attr">loaderOptions</span>: &#123;</span><br><span class="line">         <span class="attr">css</span>: &#123;&#125;,</span><br><span class="line">         <span class="attr">postcss</span>: &#123;</span><br><span class="line">           <span class="attr">plugins</span>: [</span><br><span class="line">             <span class="built_in">require</span>(<span class="string">&#x27;postcss-px2rem&#x27;</span>)(&#123;</span><br><span class="line">               <span class="attr">remUnit</span>: <span class="number">75</span></span><br><span class="line">            &#125;)</span><br><span class="line">          ]</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这样就配置完成了，之后命令重启项目</p><h2 id="vue-cli3之前配置方法"><a href="#vue-cli3之前配置方法" class="headerlink" title="vue/cli3之前配置方法"></a><strong>vue/cli3之前配置方法</strong></h2><p><strong>在项目目录下安装flexible，px2rem</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install lib-flexible</span><br><span class="line">npm install px2rem-loader</span><br></pre></td></tr></table></figure><p><strong>然后在项目入口文件main.js里引入lib-flexible</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;lib-flexible&#x27;</span></span><br></pre></td></tr></table></figure><p><strong>配置meta标签,在index.html文件当中（有的已经是有的，就不用修改了）</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>配置 px2rem-loader由于是loader文件</strong></p><p>所有的loader文件都是在until.js文件里的一个方法生成的．</p><p>我们只要在until.js里找到cssLoader这个对象，在它下面再加一个px2remLoader对象即可</p><p><img src="G:\image\17324039(1).jpeg"></p><p>这样就配置完成了，之后命令重启项目</p><h1 id="VUE-引用视频组件"><a href="#VUE-引用视频组件" class="headerlink" title="VUE- 引用视频组件"></a><strong>VUE- 引用视频组件</strong></h1><p>安装依赖</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install vue-video-player -S</span><br><span class="line">npm install video.js -S</span><br></pre></td></tr></table></figure><p>全局引用： 在main.js中</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> VuevideoPlayer <span class="keyword">from</span> <span class="string">&#x27;vue-video-player&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;video.js/dist/video-js.css&#x27;</span>;</span><br><span class="line">Vue.use(VuevideoPlayer);</span><br></pre></td></tr></table></figure><p>或组件内引用：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; videoPlayer &#125; <span class="keyword">from</span> <span class="string">&#x27;vue-video-player&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;video.js/dist/video-js.css&#x27;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line"> <span class="attr">components</span>: &#123;</span><br><span class="line">  videoPlayer</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>界面部分</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;video-player class=&quot;video-player vjs-custom-skin&quot; ref=&quot;videoPlayer&quot; :playsinline=&quot;true&quot; :options=&quot;playerOptions&quot;&gt;&lt;/video-player&gt;</span><br></pre></td></tr></table></figure><p>样式表，设置播放按钮的形状与位置：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.video-js</span> <span class="selector-class">.vjs-big-play-button</span>&#123;&#125;</span><br></pre></td></tr></table></figure><p>data 部分</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">data</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="attr">playerOptions</span>: &#123;</span><br><span class="line">      <span class="attr">playbackRates</span>: [<span class="number">0.7</span>, <span class="number">1.0</span>, <span class="number">1.5</span>, <span class="number">2.0</span>], <span class="comment">//播放速度</span></span><br><span class="line">      <span class="attr">autoplay</span>: <span class="literal">false</span>, <span class="comment">//如果true,浏览器准备好时开始回放。</span></span><br><span class="line">      <span class="attr">muted</span>: <span class="literal">false</span>, <span class="comment">// 默认情况下将会消除任何音频。</span></span><br><span class="line">      <span class="attr">loop</span>: <span class="literal">false</span>, <span class="comment">// 导致视频一结束就重新开始。</span></span><br><span class="line">      <span class="attr">preload</span>: <span class="string">&quot;auto&quot;</span>, <span class="comment">// 建议浏览器在&lt;video&gt;加载元素后是否应该开始下载视频数据。auto浏览器选择最佳行为,立即开始加载视</span></span><br><span class="line">      <span class="attr">language</span>: <span class="string">&quot;zh-CN&quot;</span>,</span><br><span class="line">      <span class="attr">aspectRatio</span>: <span class="string">&quot;16:9&quot;</span>, <span class="comment">// 将播放器置于流畅模式，并在计算播放器的动态大小时使用该值。值应该代表一个比例 - 用冒号分隔</span></span><br><span class="line">      <span class="attr">fluid</span>: <span class="literal">true</span>, <span class="comment">// 当true时，Video.js player将拥有流体大小。换句话说，它将按比例缩放以适应其容器。</span></span><br><span class="line">      <span class="attr">sources</span>: [&#123;</span><br><span class="line">          <span class="comment">// src: &quot;//path/to/video.mp4&quot;, // 路径</span></span><br><span class="line">          <span class="attr">src</span>: <span class="string">&quot;src/images/VID1121.mp4&quot;</span>, <span class="comment">// 路径</span></span><br><span class="line">          <span class="attr">type</span>: <span class="string">&quot;video/mp4&quot;</span> <span class="comment">// 类型</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">src</span>: <span class="string">&quot;//path/to/video.webm&quot;</span>,</span><br><span class="line">          <span class="attr">type</span>: <span class="string">&quot;video/webm&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">      ],</span><br><span class="line">      <span class="comment">// poster: &quot;../../static/images/test.jpg&quot;, //你的封面地址</span></span><br><span class="line">      <span class="attr">poster</span>: <span class="string">&quot;src/images/logo.png&quot;</span>, <span class="comment">//你的封面地址</span></span><br><span class="line">      <span class="comment">// width: document.documentElement.clientWidth,</span></span><br><span class="line">      <span class="attr">notSupportedMessage</span>: <span class="string">&quot;此视频暂无法播放，请稍后再试&quot;</span>, <span class="comment">//允许覆盖Video.js无法播放媒体源时显示的默认信息。</span></span><br><span class="line">      <span class="attr">controlBar</span>: &#123;</span><br><span class="line">        <span class="attr">timeDivider</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">durationDisplay</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">remainingTimeDisplay</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="attr">fullscreenToggle</span>: <span class="literal">true</span> <span class="comment">//全屏按钮</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><h1 id="手指滑动"><a href="#手指滑动" class="headerlink" title="手指滑动"></a><strong>手指滑动</strong></h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 滑动切换</span></span><br><span class="line"><span class="function"><span class="title">slideBanner</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">  <span class="comment">//选中的轮播图</span></span><br><span class="line">  <span class="keyword">var</span> box = <span class="built_in">document</span>.querySelector(<span class="string">&quot;.el-carousel__container&quot;</span>);</span><br><span class="line">  <span class="keyword">var</span> startPoint = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">var</span> stopPoint = <span class="number">0</span>;</span><br><span class="line">  <span class="comment">//重置坐标</span></span><br><span class="line">  <span class="keyword">var</span> resetPoint = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    startPoint = <span class="number">0</span>;</span><br><span class="line">    stopPoint = <span class="number">0</span>;</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="comment">//手指按下</span></span><br><span class="line">  box.addEventListener(<span class="string">&quot;touchstart&quot;</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">    <span class="comment">//手指点击位置的X坐标</span></span><br><span class="line">    startPoint = e.changedTouches[<span class="number">0</span>].pageX;</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="comment">//手指滑动</span></span><br><span class="line">  box.addEventListener(<span class="string">&quot;touchmove&quot;</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">    <span class="comment">//手指滑动后终点位置X的坐标</span></span><br><span class="line">    stopPoint = e.changedTouches[<span class="number">0</span>].pageX;</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="comment">//当手指抬起的时候，判断图片滚动离左右的距离</span></span><br><span class="line">  <span class="keyword">let</span> that = <span class="built_in">this</span>;</span><br><span class="line">  box.addEventListener(<span class="string">&quot;touchend&quot;</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;1：&quot;</span> + startPoint);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;2：&quot;</span> + stopPoint);</span><br><span class="line">    <span class="keyword">if</span> (stopPoint == <span class="number">0</span> || startPoint - stopPoint == <span class="number">0</span>) &#123;</span><br><span class="line">      resetPoint();</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (startPoint - stopPoint &gt; <span class="number">0</span>) &#123;</span><br><span class="line">      resetPoint();</span><br><span class="line">      that.$refs.slideCarousel.next();</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (startPoint - stopPoint &lt; <span class="number">0</span>) &#123;</span><br><span class="line">      resetPoint();</span><br><span class="line">      that.$refs.slideCarousel.prev();</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-carousel arrow=&quot;never&quot; ref=&quot;slideCarousel&quot; :autoplay=&quot;false&quot; type=&quot;card&quot;&gt;</span><br><span class="line">  &lt;el-carousel-item v-for=&quot;item in videos&quot; :key=&quot;item.id&quot;&gt;</span><br><span class="line">    &lt;video id=&quot;myVideo&quot; class=&quot;slide-video&quot; controls&gt;</span><br><span class="line">      &lt;source :src=&quot;item.videoUrl&quot; /&gt;</span><br><span class="line">    &lt;/video&gt;</span><br><span class="line">    &lt;div id=&quot;output&quot;&gt;&lt;/div&gt;</span><br><span class="line">  &lt;/el-carousel-item&gt;</span><br><span class="line">&lt;/el-carousel&gt;</span><br></pre></td></tr></table></figure><h1 id="获取本机IP"><a href="#获取本机IP" class="headerlink" title="获取本机IP"></a><strong>获取本机IP</strong></h1><p>index.html中添加</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=<span class="string">&quot;http://pv.sohu.com/cityjson?ie=utf-8&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">  <span class="keyword">let</span> Ip = returnCitySN[<span class="string">&quot;cip&quot;</span>];</span></span></span><br><span class="line"><span class="javascript"><span class="xml">  <span class="built_in">localStorage</span>.setItem(<span class="string">&quot;Ip&quot;</span>, Ip);</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p>vue页面</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">localStorage</span>.getItem(<span class="string">&#x27;Ip&#x27;</span>)</span><br></pre></td></tr></table></figure><h1 id="待续"><a href="#待续" class="headerlink" title="待续~~~"></a>待续~~~</h1>]]></content>
      
      
      <categories>
          
          <category> vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JVM</title>
      <link href="/post/66c016fb.html"/>
      <url>/post/66c016fb.html</url>
      
        <content type="html"><![CDATA[<h1 id="章节介绍"><a href="#章节介绍" class="headerlink" title="章节介绍"></a>章节介绍</h1><p>文章待完善~~~</p><h1 id="Java程序的执行"><a href="#Java程序的执行" class="headerlink" title="Java程序的执行"></a>Java程序的执行</h1><ol><li>使用编辑器或IDE(集成开发环境)编写Java源文件.即Simple.java</li><li>程序必须编译为字节码文件，javac(Java编译器)编译源文件为Simple.class文件.</li><li>类文件可在任何平台/操作系统上由JVM(Java虚拟机)执行</li><li>JVM将字节码文件翻译为机器可以执行的机器码(0,1二进制)</li></ol><h1 id="JVM"><a href="#JVM" class="headerlink" title="JVM"></a>JVM</h1><h2 id="什么是JVM"><a href="#什么是JVM" class="headerlink" title="什么是JVM?"></a>什么是JVM?</h2><p>Java Virtual Machine：JAVA虚拟机</p><p>JVM是运行Java字节码的虚拟机，通过编译.java文件为.class文件得到字节码文件 。</p><p>.class文件包含JVM可以理解的字节码。</p><p>它提供可以执行Java字节码的运行时环境</p><h2 id="JVM结构"><a href="#JVM结构" class="headerlink" title="JVM结构"></a>JVM结构</h2><h3 id="Class-Loader"><a href="#Class-Loader" class="headerlink" title="Class Loader"></a>Class Loader</h3><p>类装载器是用于加载类文件的一个子系统，其主要功能有三个：loading(加载），linking（链接）,initialization（初始化）。</p><h4 id="Loading"><a href="#Loading" class="headerlink" title="Loading"></a>Loading</h4><ol><li>加载类，JVM有三种类加载方式：Bootstrap,extension,application</li><li>当加载类文件时，JVM会找到某个任意类XYZ.class的依赖项。</li><li>第一个引导类载入器试图查找类，它会扫描lib文件夹下的rt.jar文件</li><li>如果没有找到类，则extension类加载器会在jre\lib\ext文件夹下查找该类</li><li>同样没有找到类，application类加载器会在系统CLASSPATH环境变量中查询所有的Jar文件和类.</li><li>如果类被任何加载器发现，则被类加载器载入，否则抛出异常:ClassNotFoundException。</li></ol><h4 id="Linking"><a href="#Linking" class="headerlink" title="Linking"></a>Linking</h4><p>类加载完成后，执行Linking（链接），一个字节码验证器将验证生成的字节码是否正确，如果验证失败，得到一个验证错误。此时，还将内存分配给类中的静态变量和静态方法。</p><h4 id="Initialization"><a href="#Initialization" class="headerlink" title="Initialization"></a>Initialization</h4><p>这是类加载的 最后一个阶段，所有的静态变量都被赋以原始初值，并执行静态代码块。</p><h3 id="JVM-Memory-Areas"><a href="#JVM-Memory-Areas" class="headerlink" title="JVM Memory Areas"></a>JVM Memory Areas</h3><p>JVM内存区域被划分为多个部分来存储应用程序数据的特定部分。</p><ol><li>**Method Area(方法区): ** 存储像元数据，常量运行池，方法代码的结构。</li><li><strong>Heap(堆区)：</strong> 存储程序运行时被创建的所有对象</li><li><strong>Stack(栈区)：</strong> 存储本地变量(局部变量）和中间结果。所有的这些变量都是创建他们的线程的本地变量。每个线程有自己的Java Stack，在线程创建时该区被创建，所有这些本地变量也被称为：线程本地变量</li><li><strong>PC register(程序计数器)：</strong> 存储当前正在执行的的语句的物理内存地址。在Java中，每一个线程又有自己独立的PC register。</li></ol><h3 id="JVM-Execution-Engine-执行引擎"><a href="#JVM-Execution-Engine-执行引擎" class="headerlink" title="JVM Execution Engine(执行引擎)"></a>JVM Execution Engine(执行引擎)</h3><p>所有分配给JVM的代码都由Execution Engine（执行引擎）执行，执行引擎读取字节码并逐个执行。它使用两个内置的解释器和JIT编译器将字节码转换成机器码并执行它。</p><p>使用JVM，两个解释器和编译器都会产生本地代码，不同之处在于他们如何生成本地代码，如何优化以及优化的代价。</p><h4 id="Interpreter-解释器"><a href="#Interpreter-解释器" class="headerlink" title="Interpreter(解释器)"></a>Interpreter(解释器)</h4><p>通过查找预定义的JVM-指令到机器指令映射，JVM解释器可以将每个字节码指令转换为相应的本地指令。它直接执行字节码，不执行任何优化。</p><h4 id="JIT-Compiler-即时编译器"><a href="#JIT-Compiler-即时编译器" class="headerlink" title="JIT Compiler(即时编译器)"></a>JIT Compiler(即时编译器)</h4><p>为了提高效率，JIT Compiler在运行时与JVM交互，，并适当将字节码序列编译为本地机器代码。典型地，JIT Compiler执行一段代码（不是每次一条语句），优化这块代码，并将其翻译为优化的机器代码。<br>JIT Compiler是默认开启的，你可以禁用，这种情况下，将解释整个Java程序，所以不建议禁用JIT Compiler，当然除了诊断或者出现JIT编译问题.</p><h2 id="主要功能"><a href="#主要功能" class="headerlink" title="主要功能"></a><strong>主要功能</strong></h2><ol><li>通过ClassLoader寻找和装载Class文件</li><li> 通过字节码成为指令并执行，提供class文件的运行环境</li><li>进行运行期间的内存分配和垃圾回收</li><li>提供与硬件交互的平台</li></ol><h1 id="JRE"><a href="#JRE" class="headerlink" title="JRE"></a>JRE</h1><p>Java运行时环境(JRE)是一个软件包，它捆绑了libraries(jar)和JVM，以及用Java编写的应用程序的其他组件。JVM只是JRE发行版的一部分。</p><p>执行Java程序，需要在机器上安装JRE</p><h1 id="JDK"><a href="#JDK" class="headerlink" title="JDK"></a>JDK</h1><p>JDK包含了JRE的所有开发，调试和监视应用程序的工具。当要开发Java应用程序时，需要安装JDK</p><p><strong>Linux安装</strong></p><p><strong>JDK下载</strong></p><p>官网<a href="https://www.oracle.com/java/technologies/javase-downloads.html">https://www.oracle.com/java/technologies/javase-downloads.html</a></p><p>在此教程以提供jdk-8u281-linux-x64.tar.gz直接上传到服务器指定位置就好</p><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p>将安装包上传到：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/local/java</span><br></pre></td></tr></table></figure><p>解压安装包</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -zxvf jdk-8u281-linux-x64.tar.gz</span><br></pre></td></tr></table></figure><p>在/etc/profile中最下面添加java环境配置:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">export JAVA_HOME=/usr/local/java</span><br><span class="line">export CLASSPATH=.:$JAVA_HOME/lib:$JAVA_HOME/jre/lib</span><br><span class="line">export PATH=$PATH:$JAVA_HOME/bin   </span><br></pre></td></tr></table></figure><p>启动/etc/profile文件中的配置:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source /etc/profile</span><br></pre></td></tr></table></figure><p>查看JDK版本是否安装成功</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java -version</span><br></pre></td></tr></table></figure><h1 id="死锁问题"><a href="#死锁问题" class="headerlink" title="死锁问题:"></a>死锁问题:</h1><h2 id="什么是死锁？"><a href="#什么是死锁？" class="headerlink" title="什么是死锁？"></a>什么是死锁？</h2><p>死锁是指两个或两个以上的线程在执行过程中，因争夺资源产生的一种互相等待的现象</p><h2 id="死锁产生的原因"><a href="#死锁产生的原因" class="headerlink" title="死锁产生的原因"></a>死锁产生的原因</h2><ol><li><p>系统资源的竞争</p><p>通常系统中拥有的不可剥夺资源，其数量不足以满足多个进程运行的需要，使得进程在 运行过程中，会因争夺资源而陷入僵局，如磁带机、打印机等。只有对不可剥夺资源的竞争 才可能产生死锁，对可剥夺资源的竞争是不会引起死锁的。</p></li><li><p>进程推进顺序非法</p><p>进程在运行过程中，请求和释放资源的顺序不当，也同样会导致死锁。例如，并发进程 P1、P2分别保持了资源R1、R2，而进程P1申请资源R2，进程P2申请资源R1时，两者都 会因为所需资源被占用而阻塞</p></li></ol><h1 id="OOM问题："><a href="#OOM问题：" class="headerlink" title="OOM问题："></a>OOM问题：</h1><h2 id="什么是OOM？"><a href="#什么是OOM？" class="headerlink" title="什么是OOM？"></a>什么是OOM？</h2><p>全称“Out Of Memory”，内存用完了，</p><h2 id="为什么会OOM？"><a href="#为什么会OOM？" class="headerlink" title="为什么会OOM？"></a>为什么会OOM？</h2><p>当JVM因为没有足够的内存来为对象分配空间并且垃圾回收器也已经没有空间可回收时，就会抛出java.lang.OutOfMemoryError</p><p>具体原因大致为两方面：</p><p><strong>自身原因</strong>：比如虚拟机本身可使用的内存太少。</p><p><strong>外在原因</strong>：如应用使用的太多，且用完没释放，浪费了内存。此时就会造成内存泄露或者内存溢出。</p><p><strong>内存泄露</strong>：申请使用完的内存没有释放，导致虚拟机不能再次使用该内存，此时这段内存就泄露了，因为申请者不用了，而又不能被虚拟机分配给别人用。</p><p><strong>内存溢出</strong>：申请的内存超出了JVM能提供的内存大小，此时称之为溢出。</p><h2 id="OOM的类型"><a href="#OOM的类型" class="headerlink" title="OOM的类型"></a>OOM的类型</h2><h3 id="JVM内存模型："><a href="#JVM内存模型：" class="headerlink" title="JVM内存模型："></a>JVM内存模型：</h3><p>按照JVM规范，JAVA虚拟机在运行时会管理以下的内存区域：</p><p><strong>程序计数器（线程私有）</strong></p><p>当前线程执行的字节码的行号指示器，</p><p><strong>JAVA虚拟机栈（线程私有）</strong></p><p>Java方法执行的内存模型，每个Java方法的执行对应着一个栈帧的进栈和出栈的操作。</p><p><strong>本地方法栈（线程私有）</strong></p><p>类似“ JAVA虚拟机栈 ”，但是为native方法的运行提供内存环境。</p><p><strong>JAVA堆（线程共享）</strong></p><p>对象内存分配的地方，内存垃圾回收的主要区域，所有线程共享。可分为新生代，老生代。</p><p><strong>方法区（永久代）（线程共享）</strong></p><p>用于存储已经被JVM加载的类信息、常量、静态变量、即时编译器编译后的代码等数据。Hotspot中的“永久代”。</p><p>运行时常量池：方法区的一部分，存储常量信息，如各种字面量、符号引用等。</p><p>直接内存：并不是JVM运行时数据区的一部分， 可直接访问的内存， 比如NIO会用到这部分。</p><p>按照JVM规范，除了程序计数器不会抛出OOM外，其他各个内存区域都可能会抛出OOM。</p><h2 id="线程栈相关的内存异常："><a href="#线程栈相关的内存异常：" class="headerlink" title="线程栈相关的内存异常："></a>线程栈相关的内存异常：</h2><h3 id="OOM-OutOfMemoryError"><a href="#OOM-OutOfMemoryError" class="headerlink" title="OOM(OutOfMemoryError)"></a>OOM(OutOfMemoryError)</h3><p><strong>java.lang.OutOfMemoryError: Java heap space</strong> ——&gt;java堆内存溢出，此种情况最常见，一般由于内存泄露或者堆的大小设置不当引起。对于内存泄露，需要通过内存监控软件查找程序中的泄露代码，而堆大小可以通过虚拟机参数-Xms,-Xmx等修改。<br><strong>java.lang.OutOfMemoryError: PermGen space</strong> ——&gt;java永久代溢出，即方法区溢出了，一般出现于大量Class或者jsp页面，或者采用cglib等反射机制的情况，因为上述情况会产生大量的Class信息存储于方法区。此种情况可以通过更改方法区的大小来解决，使用类似-XX:PermSize=64m -XX:MaxPermSize=256m的形式修改。另外，过多的常量尤其是字符串也会导致方法区溢出。</p><p><strong>java.lang.OutOfMemoryError</strong>: Metaspace(元空间用尽)<br>JAVA8引入了Metaspace区域,元空间并不在虚拟机中,使用本地内存。<br>通过设置-XX:MaxMetaspaceSize=512m 空间分配。</p><p><strong>java.lang.OutOfMemoryError</strong>: GC overhead limit exceeded<br>程序耗尽了所有的可用内存,GC在连续多次都只回收了不到2%的极端情况下才会抛出。</p><h3 id="SOF-StackOverflow-栈"><a href="#SOF-StackOverflow-栈" class="headerlink" title="SOF(StackOverflow)栈"></a>SOF(StackOverflow)栈</h3><p><strong>java.lang.StackOverflowError ——&gt; 不会抛OOM error</strong>，但也是比较常见的Java内存溢出。JAVA虚拟机栈溢出，一般是由于程序中存在死循环或者深度递归调用造成的，栈大小设置太小也会出现此种溢出。可以通过虚拟机参数-Xss来设置栈的大小。</p><h1 id="JVM故障排查"><a href="#JVM故障排查" class="headerlink" title="JVM故障排查"></a>JVM故障排查</h1><p>作用：</p><p>对JVM运行期间的内部情况进行监控，比如：对jvm参数、CPU、内存、堆等信息的查看</p><p>辅助进行性能调优<br>辅助解决应用运行时的一些问题，比如：OOM异常、内存泄漏、线程死锁、锁争用、JAVA进程CPU消耗过高等等一系列问题，这些问题，不好定位问题，需要通过JVM来定位问题</p><h2 id="命令行工具"><a href="#命令行工具" class="headerlink" title="命令行工具"></a>命令行工具</h2><p><strong>jps命令：</strong></p><p>用来输出JVM中运行的进程状态的信息</p><p><strong>jinfo命令：语法：jinfo pid</strong> </p><p>打印给定进程或核心文件或远程调试服务器的配置文件</p><p><strong>jstack：语法：jstack pid</strong></p><p>主要用来查看某个java进程内的线程堆栈信息。</p><p><strong>jmap：语法：jmap -histo:live pid</strong></p><p>用来查看堆内存的使用情况</p><p><strong>jstat：语法：jstat -gc pid</strong></p><p>JVM统计检测工具，查看各个区内存和GC的情况</p><p><strong>jstated：语法：jstated pid</strong></p><p>虚拟机jstat的守护进程，主要用于监控JVM的创建与终止，并提供一个接口，以允许远程监控工具附加到本地系统上允许的JVM里</p><p><strong>jcmd：</strong></p><p>虚拟机诊断命令工具，将诊断命令请求发送到正在执行的java虚拟机中，比如可以用来导出堆，查看java进程，导出线程信息，执行GC</p><h2 id="图形化工具"><a href="#图形化工具" class="headerlink" title="图形化工具"></a>图形化工具</h2><p><strong>jconsole：</strong></p><p>一个用于监视Java虚拟机的图形工具</p><p><strong>jmc：</strong></p><p>通过使用飞行记录器记录我们的热点类和热点方法</p><p><strong>visualvm：</strong></p>]]></content>
      
      
      <categories>
          
          <category> jvm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> jvm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo部署个人服务器</title>
      <link href="/post/73e88b67.html"/>
      <url>/post/73e88b67.html</url>
      
        <content type="html"><![CDATA[<h1 id="文章介绍"><a href="#文章介绍" class="headerlink" title="文章介绍"></a>文章介绍</h1><p>因之前部署到Github和coding上，会有搜索引擎索引搜索不到问题，所以又吧hexo部署到了个人服务器</p><p>在部署个人服务器之前需关闭之前在<strong>Github</strong>&amp;&amp;<strong>Coding</strong>上的Pages配置</p><h1 id="环境要求"><a href="#环境要求" class="headerlink" title="环境要求"></a>环境要求</h1><p>笔者环境：</p><p>阿里云服务器：CentOS 8.4 64位</p><p>git：</p><ol><li>windows：2.29.2.windows.2</li><li>Linux：2.27.0</li></ol><h1 id="git安装与配置"><a href="#git安装与配置" class="headerlink" title="git安装与配置"></a>git安装与配置</h1><p>windows安装之前的文章讲过，跳过，此处只讲Linux的git安装</p><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 更新安装源</span></span><br><span class="line">$ sudo yum update</span><br><span class="line"><span class="comment"># 安装git工具</span></span><br><span class="line">$ sudo yum install git</span><br></pre></td></tr></table></figure><h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name <span class="string">&quot;Your Name&quot;</span></span><br><span class="line">git config --global user.email <span class="string">&quot;name@mailname.com&quot;</span></span><br></pre></td></tr></table></figure><h2 id="查看配置信息"><a href="#查看配置信息" class="headerlink" title="查看配置信息"></a>查看配置信息</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --list</span><br></pre></td></tr></table></figure><h2 id="为linux服务器新建用户"><a href="#为linux服务器新建用户" class="headerlink" title="为linux服务器新建用户"></a>为linux服务器新建用户</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 用户名就是git，若不存在用户目录，则会创建</span></span><br><span class="line">adduser -d /home/git -m git  </span><br><span class="line"></span><br><span class="line"><span class="comment"># 输入设置git用户的密码，此步骤在此不展示，建议密码设置复杂点，毕竟是放在网上的</span></span><br><span class="line">passwd git</span><br><span class="line"></span><br><span class="line"><span class="comment"># 编辑/etc/sudoers文件，在rootALL=(ALL) ALL之后回车追加以下内容</span></span><br><span class="line">gitALL=(ALL) ALL</span><br></pre></td></tr></table></figure><h2 id="添加SSH信任"><a href="#添加SSH信任" class="headerlink" title="添加SSH信任"></a>添加SSH信任</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">chmod 755 /home/git</span><br><span class="line"></span><br><span class="line"><span class="comment"># 切换用户并进入当前用户目录</span></span><br><span class="line">su git</span><br><span class="line"><span class="built_in">cd</span> /home/git</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建文件并给予权限</span></span><br><span class="line">mkdir .ssh &amp;&amp; chmod 700 .ssh</span><br><span class="line">touch .ssh/authorized_keys &amp;&amp; chmod 600 .ssh/authorized_keys</span><br></pre></td></tr></table></figure><h2 id="上传本地id-rsa-pub"><a href="#上传本地id-rsa-pub" class="headerlink" title="上传本地id_rsa_pub"></a>上传本地id_rsa_pub</h2><p>linux新开一个终端</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># root用户下执行</span></span><br><span class="line"><span class="built_in">cd</span> ~/.ssh/</span><br><span class="line"></span><br><span class="line"><span class="comment"># 此步将id_rsa.pub上传当前目录再执行查看</span></span><br><span class="line">ls ./id_rsa.pub</span><br><span class="line"></span><br><span class="line"><span class="comment"># cp到git用户目录下</span></span><br><span class="line">scp ./id_rsa.pub root@114.xxx.xxx.xxx:/home/git</span><br></pre></td></tr></table></figure><p>切换用户</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 切换到git用户</span></span><br><span class="line">su git</span><br><span class="line"></span><br><span class="line"><span class="comment"># 进入git用户的家目录</span></span><br><span class="line"><span class="built_in">cd</span> /home/git</span><br><span class="line"></span><br><span class="line"><span class="comment">#将id_rsa.pub文件内容追加到authorized_keys中</span></span><br><span class="line">cat ./id_rsa.pub &gt;&gt; .ssh/authorized_keys</span><br></pre></td></tr></table></figure><h2 id="本地Git-Bash-Here连接服务器"><a href="#本地Git-Bash-Here连接服务器" class="headerlink" title="本地Git Bash Here连接服务器"></a>本地Git Bash Here连接服务器</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 连接</span></span><br><span class="line">ssh git@服务器IP</span><br><span class="line"></span><br><span class="line"><span class="comment"># 新仓库要建立在哪个文件夹自己选，我直接放在git用户的目录下</span></span><br><span class="line"><span class="built_in">cd</span> /home/git</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建一个新仓库目录</span></span><br><span class="line">mkdir hexoblog.git</span><br><span class="line"></span><br><span class="line"><span class="comment"># 进入新仓库目录</span></span><br><span class="line"><span class="built_in">cd</span> hexoblog.git</span><br><span class="line"></span><br><span class="line"><span class="comment"># 初始化该新仓库</span></span><br><span class="line">git init --bare</span><br><span class="line"></span><br><span class="line"><span class="comment"># 出现以下内容表示成功</span></span><br><span class="line">Initialized empty Git repository <span class="keyword">in</span> /home/git/hexoblog.git/</span><br></pre></td></tr></table></figure><p>如连接时报错：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ECDSA host key <span class="keyword">for</span> [ip address] has changed and you have requested strict checking</span><br></pre></td></tr></table></figure><p>解决：修改本地.ssh下的host文件即可，删除与服务器连接信息</p><p>至此，服务器上的git仓库搭建完毕，地址为：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git@服务器IP:/home/git/hexoblog.git</span><br></pre></td></tr></table></figure><h2 id="git仓库使用git-hooks自动部署"><a href="#git仓库使用git-hooks自动部署" class="headerlink" title="git仓库使用git-hooks自动部署"></a>git仓库使用git-hooks自动部署</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 新建部署后文件位置</span></span><br><span class="line">sudo mkdir -p /home/web/hexo</span><br></pre></td></tr></table></figure><p>仓库下新建/hooks/post-update文件，新增内容</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line">git --work-tree=/home/web/hexo --git-dir=/home/git/hexoblog.git checkout -f</span><br></pre></td></tr></table></figure><p>给post-update权限</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /home/git/hexoblog.git/hooks/</span><br><span class="line"></span><br><span class="line">sudo chown -R git:git /home/web/hexo</span><br><span class="line"></span><br><span class="line"><span class="comment"># 赋予其可执行权限</span></span><br><span class="line">sudo chmod +x post-update</span><br></pre></td></tr></table></figure><h1 id="本地hexo配置"><a href="#本地hexo配置" class="headerlink" title="本地hexo配置"></a>本地hexo配置</h1><p>修改根目录下config.yml文件</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">  <span class="attr">repository:</span> </span><br><span class="line">    <span class="attr">repo:</span> <span class="string">git@服务器IP:/home/git/hexoblog.git</span></span><br><span class="line">  <span class="attr">branch:</span> <span class="string">master</span> <span class="comment">#把博客推送至主分支</span></span><br></pre></td></tr></table></figure><p>至此，在根目录Git Bash Here执行</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean &amp;&amp; hexo g &amp;&amp; hexo d</span><br></pre></td></tr></table></figure><p>查看服务器/home/web/hexo目录下生成静态文件，至此完成！！</p>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>搭建hexo博客</title>
      <link href="/post/4a416765.html"/>
      <url>/post/4a416765.html</url>
      
        <content type="html"><![CDATA[<h1 id="1-文章介绍"><a href="#1-文章介绍" class="headerlink" title="1.文章介绍"></a>1.文章介绍</h1><p>此文章总结不易，参考各个文章总结，如有问题请留言…..</p><h1 id="2-环境要求"><a href="#2-环境要求" class="headerlink" title="2.环境要求"></a>2.环境要求</h1><p>笔者环境：</p><p>win11 64位；</p><p>node.js：v14.15.3 64位；</p><p>git：2.29.2.windows.2 64位</p><p>编写代码使用Notepad++</p><h2 id="node-js安装"><a href="#node-js安装" class="headerlink" title="node.js安装"></a>node.js安装</h2><h3 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h3><p><a href="https://nodejs.org/download/release/v14.15.3/node-v14.15.3-x64.msi">node-v14.15.3-x64.msi</a></p><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><p>自主安装（修改安装路径，一路next）</p><h3 id="验证安装是否成功"><a href="#验证安装是否成功" class="headerlink" title="验证安装是否成功"></a>验证安装是否成功</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">cmd 查看版本</span><br><span class="line">C:\Users\hong&gt;node -v</span><br><span class="line">v14.15.3</span><br><span class="line"></span><br><span class="line">C:\Users\hong&gt;npm -v</span><br><span class="line">6.14.9</span><br></pre></td></tr></table></figure><h3 id="设置全局目录"><a href="#设置全局目录" class="headerlink" title="设置全局目录"></a>设置全局目录</h3><p>命令提示行打入：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm conﬁg <span class="built_in">set</span> preﬁx <span class="string">&quot;E:\environment\nodejs\node_global&quot;</span></span><br><span class="line">npm conﬁg <span class="built_in">set</span> cache <span class="string">&quot;E:\environment\nodejs\node_cache&quot;</span></span><br></pre></td></tr></table></figure><h2 id="git安装"><a href="#git安装" class="headerlink" title="git安装"></a>git安装</h2><h3 id="下载-1"><a href="#下载-1" class="headerlink" title="下载"></a>下载</h3><p><a href="https://github.com/git-for-windows/git/releases/download/v2.33.1.windows.1/Git-2.33.1-64-bit.exe">Git-2.33.1-64-bit.exe</a></p><h3 id="安装-1"><a href="#安装-1" class="headerlink" title="安装"></a>安装</h3><p>自主安装（修改安装路径，一路next）</p><h3 id="验证安装是否成功-1"><a href="#验证安装是否成功-1" class="headerlink" title="验证安装是否成功"></a>验证安装是否成功</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cmd 查看版本</span><br><span class="line">C:\Users\hong&gt;git --version</span><br><span class="line">git version 2.33.1</span><br></pre></td></tr></table></figure><h3 id="设置"><a href="#设置" class="headerlink" title="设置"></a>设置</h3><p>Github在下文需要时介绍，设置在部署Github再执行也不迟</p><p>桌面右键，选择Git Bash Here</p><ol><li><p>设置Github的名字和邮箱</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name <span class="string">&quot;你的名字&quot;</span></span><br><span class="line">git config --global user.email“你的邮箱<span class="string">&quot;</span></span><br></pre></td></tr></table></figure></li><li><p>生成ssh</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C <span class="string">&quot;你的名字/你的邮箱&quot;</span></span><br></pre></td></tr></table></figure><p>然后会出现以下内容</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Generating public/private rsa key pair.</span><br><span class="line">Enter file <span class="keyword">in</span> <span class="built_in">which</span> to save the key (/c/Users/Administrator/.ssh/id_rsa):</span><br><span class="line">/c/Users/Administrator/.ssh/id_rsa already exists.</span><br><span class="line">Overwrite (y/n)? y（输入y）</span><br><span class="line">Enter passphrase (empty <span class="keyword">for</span> no passphrase):（回车）</span><br><span class="line">Enter same passphrase again:（回车）</span><br></pre></td></tr></table></figure><p>系统会自动在.ssh文件夹(<strong>.SSH在C:\Users\Windows用户名目录下</strong>)下生成两个文件，id_rsa和id_rsa.pub，用Notepad++打开id_rsa.pub，复制到</p><p><img src="https://cdn.jsdelivr.net/gh/chen020723/pic@master/img/image-20211107121902194.png" alt="image-20211107121902194"></p></li><li><p>验证与github连接是否成功</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -T git@github.com</span><br></pre></td></tr></table></figure></li></ol><h1 id="3-Hexo"><a href="#3-Hexo" class="headerlink" title="3.Hexo"></a>3.Hexo</h1><h2 id="指令"><a href="#指令" class="headerlink" title="指令"></a>指令</h2><p><a href="https://hexo.io/zh-cn/docs/commands.html">Hexo指令</a></p><h2 id="安装-2"><a href="#安装-2" class="headerlink" title="安装"></a>安装</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 选择存放博客文件的位置，鼠标右键，选择Git Bash Here</span></span><br><span class="line"><span class="comment"># 依次执行完成以下操作</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 1.hexo框架的全局安装</span></span><br><span class="line">npm install -g hexo-cli</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2.新建一个网站，[folder]改自定义博客文件夹名称</span></span><br><span class="line">hexo init [folder]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3.进入博客文件夹</span></span><br><span class="line"><span class="built_in">cd</span> 上一步博客文件夹名称</span><br><span class="line"></span><br><span class="line"><span class="comment"># 4.安装博客所需要的依赖文件</span></span><br><span class="line">npm install</span><br></pre></td></tr></table></figure><p>运行完成，此时博客文件夹中多了许多文件， 此时 Hexo 框架的本地搭建已经完成了。</p><p><img src="https://cdn.jsdelivr.net/gh/chen020723/pic@master/img/image-20211107122548660.png" alt="image-20211107122548660"></p><h2 id="验证"><a href="#验证" class="headerlink" title="验证"></a>验证</h2><p>生成静态文件并启动服务</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo g &amp;&amp;  hexo s</span><br></pre></td></tr></table></figure><p>运行成功最后一行出现</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">INFO  Hexo is running at http://localhost:4000 . Press Ctrl+C to stop.</span><br></pre></td></tr></table></figure><p>浏览器中打开 <a href="http://localhost:4000/">http://localhost:4000</a> 或127.0.0.1:4000，看到网页，则运行成功</p><h1 id="butterfly主题"><a href="#butterfly主题" class="headerlink" title="butterfly主题"></a>butterfly主题</h1><h2 id="安装-3"><a href="#安装-3" class="headerlink" title="安装"></a>安装</h2><p>在hexo根目录执行</p><ol><li><p>下载</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> -b master https://gitee.com/immyw/hexo-theme-butterfly.git themes/butterfly</span><br></pre></td></tr></table></figure></li><li><p>应用主题</p><p>修改hexo根目录下的_config.yml，修改主题</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">theme:</span> <span class="string">butterfly</span></span><br></pre></td></tr></table></figure></li><li><p>安装插件，pug 以及 stylus 的渲染器</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-renderer-pug hexo-renderer-stylus --save</span><br></pre></td></tr></table></figure></li><li><p>升级建议</p><p>为减少升级主题带来的不便，采用以下方法</p><p>hexo根目录下创建config.butterfly.yml，主题（磁盘:\博客跟目录\themes\butterfly）下的config.yml內容复制到刚刚创建的config.butterfly.yml</p><p>注：</p><ol><li>主题目录下的config.yml不可删</li><li>以后只需要配置config.butterfly.yml即可，配置主题下config.yml无效</li></ol></li></ol><h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><p>修改配置文件config.yml</p><h3 id="语言修改"><a href="#语言修改" class="headerlink" title="语言修改"></a>语言修改</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">language:</span> <span class="string">zh-CN</span></span><br></pre></td></tr></table></figure><h3 id="导航菜单"><a href="#导航菜单" class="headerlink" title="导航菜单"></a>导航菜单</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 例如</span></span><br><span class="line"><span class="attr">menu:</span></span><br><span class="line">  <span class="string">首页:</span> <span class="string">/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-home</span></span><br><span class="line">  <span class="string">时间轴:</span> <span class="string">/archives/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-archive</span></span><br><span class="line">  <span class="string">标签:</span> <span class="string">/tags/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-tags</span></span><br><span class="line">  <span class="string">分类:</span> <span class="string">/categories/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-folder-open</span></span><br><span class="line">  <span class="string">清单||fa</span> <span class="attr">fa-heartbeat:</span></span><br><span class="line">    <span class="string">音乐:</span> <span class="string">/music/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-music</span></span><br><span class="line">    <span class="string">照片:</span> <span class="string">/Gallery/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-images</span></span><br><span class="line">    <span class="string">电影:</span> <span class="string">/movies/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-video</span></span><br><span class="line">  <span class="string">关于:</span> <span class="string">/about/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-heart</span></span><br></pre></td></tr></table></figure><h3 id="搜索系统"><a href="#搜索系统" class="headerlink" title="搜索系统"></a>搜索系统</h3><h4 id="安装-4"><a href="#安装-4" class="headerlink" title="安装"></a>安装</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-search --save</span><br></pre></td></tr></table></figure><h4 id="修改配置"><a href="#修改配置" class="headerlink" title="修改配置"></a>修改配置</h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">local_search:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h3 id="评论（twikoo）"><a href="#评论（twikoo）" class="headerlink" title="评论（twikoo）"></a>评论（twikoo）</h3><h4 id="手动部署"><a href="#手动部署" class="headerlink" title="手动部署"></a>手动部署</h4><ol><li>购买腾讯云 云开发CloudBase，推荐上海环境，名称自由填写</li><li>进入<a href="https://console.cloud.tencent.com/tcb/">云开发控制台(opens new window)</a></li><li>进入<a href="https://console.cloud.tencent.com/tcb/env/login">环境-登录授权 (opens new window)</a>，启用“匿名登录”</li><li>进入<a href="https://console.cloud.tencent.com/tcb/env/safety">环境-安全配置 (opens new window)</a>，将网站域名添加到“WEB安全域名”</li><li>进入<a href="https://console.cloud.tencent.com/tcb/scf/index">环境-云函数 (opens new window)</a>，点击“新建云函数”</li><li>函数名称请填写：<code>twikoo</code>，创建方式请选择：<code>空白函数</code>，运行环境请选择：Nodejs12.16，函数内存请选择：256MB`，点击“下一步”</li><li>清空输入框中的示例代码，复制以下代码、粘贴到“函数代码”输入框中，点击“确定”</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">exports</span>.main = <span class="built_in">require</span>(<span class="string">&#x27;twikoo-func&#x27;</span>).main</span><br></pre></td></tr></table></figure><ol start="8"><li><p>创建完成后，点击“twikoo”进入云函数详情页，进入“函数代码”标签，点击“文件 - 新建文件”，输入 <code>package.json</code>，回车</p></li><li><p>复制以下代码、粘贴到代码框中，点击“保存并安装依赖”</p></li></ol><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123; <span class="attr">&quot;dependencies&quot;</span>: &#123; <span class="attr">&quot;twikoo-func&quot;</span>: <span class="string">&quot;1.4.10&quot;</span> &#125; &#125;</span><br></pre></td></tr></table></figure><ol start="10"><li><p>环境ID (envId) 填写到配置上</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">twikoo:</span></span><br><span class="line">  <span class="attr">envId:</span></span><br><span class="line">  <span class="attr">region:</span></span><br><span class="line">  <span class="attr">visitor:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">option:</span></span><br></pre></td></tr></table></figure></li><li><p>开启评论</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">comments:</span></span><br><span class="line">  <span class="comment"># Up to two comments system, the first will be shown as default</span></span><br><span class="line">  <span class="comment"># Choose: Disqus/Disqusjs/Livere/Gitalk/Valine/Waline/Utterances/Facebook Comments/Twikoo</span></span><br><span class="line">  <span class="attr">use:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">Twikoo</span> </span><br><span class="line">  <span class="attr">text:</span> <span class="literal">true</span> <span class="comment"># Display the comment name next to the button</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">lazyload:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">count:</span> <span class="literal">false</span> <span class="comment"># Display comment count in post&#x27;s top_img</span></span><br><span class="line">  <span class="attr">card_post_count:</span> <span class="literal">false</span> <span class="comment"># Display comment count in Home Page</span></span><br></pre></td></tr></table></figure></li></ol><h4 id="开启twikoo评论管理面板"><a href="#开启twikoo评论管理面板" class="headerlink" title="开启twikoo评论管理面板"></a>开启twikoo评论管理面板</h4><ol><li>进入环境-登录授权 (opens new window)，点击“自定义登录”右边的“私钥下载”，下载私钥文件</li><li>用文本编辑器打开私钥文件，复制全部内容</li><li>点击评论窗口的“小齿轮”图标，粘贴私钥文件内容，并设置管理员密码</li></ol><h2 id="推荐插件"><a href="#推荐插件" class="headerlink" title="推荐插件"></a>推荐插件</h2><h3 id="文章生成永久url连接"><a href="#文章生成永久url连接" class="headerlink" title="文章生成永久url连接"></a>文章生成永久url连接</h3><h4 id="安装-5"><a href="#安装-5" class="headerlink" title="安装"></a>安装</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-abbrlink --save</span><br></pre></td></tr></table></figure><h4 id="配置-1"><a href="#配置-1" class="headerlink" title="配置"></a>配置</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"># 改动的地方</span><br><span class="line">url: http://域名</span><br><span class="line">root: /</span><br><span class="line">#permalink: :year/:month/:day/:title/</span><br><span class="line">permalink: post/:abbrlink.html</span><br><span class="line">abbrlink:</span><br><span class="line">  alg: crc32  # 算法：crc16(default) and crc32</span><br><span class="line">  rep: hex    # 进制：dec(default) and hex</span><br><span class="line">permalink_defaults:</span><br><span class="line">pretty_urls:</span><br><span class="line">  trailing_index: true # Set to false to remove trailing &#x27;index.html&#x27; from permalinks</span><br><span class="line">  trailing_html: true # Set to false to remove trailing &#x27;.html&#x27; from permalinks</span><br></pre></td></tr></table></figure><h3 id="文章密码"><a href="#文章密码" class="headerlink" title="文章密码"></a>文章密码</h3><h4 id="安装-6"><a href="#安装-6" class="headerlink" title="安装"></a>安装</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save hexo-blog-encrypt</span><br></pre></td></tr></table></figure><h4 id="配置文章信息头"><a href="#配置文章信息头" class="headerlink" title="配置文章信息头"></a>配置文章信息头</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: Hello World</span><br><span class="line">tags:</span><br><span class="line">- 作为日记加密</span><br><span class="line">date: 2016-03-30 21:12:21</span><br><span class="line">password: 密码</span><br><span class="line">abstract: 有东西被加密了, 请输入密码查看.</span><br><span class="line">message: 您好, 这里需要密码.</span><br><span class="line">theme: xray</span><br><span class="line">wrong_pass_message: 抱歉, 这个密码看着不太对, 请再试试.</span><br><span class="line">wrong_hash_message: 抱歉, 这个文章不能被校验, 不过您还是能看看解密后的内容.</span><br><span class="line">---</span><br></pre></td></tr></table></figure><p>样式：theme: default || blink ||shrink ||flip ||up ||surge|| wave || xray</p><h1 id="部署到Github"><a href="#部署到Github" class="headerlink" title="部署到Github"></a>部署到Github</h1><p>本地博客已经安装完成，但是只限于在本地，博客需要让别人访问，所以部署到Github Pages上，Github托管了博客，别人就可以访问</p><h2 id="部署"><a href="#部署" class="headerlink" title="部署"></a>部署</h2><ol><li><p>创建仓库</p><ol><li>仓库名：用户名.github.io</li><li>Public   公开</li></ol></li><li><p>创建完成后，复制仓库SSH地址，粘贴到博客文件夹下的config.yml文件里</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">  <span class="attr">repository:</span> </span><br><span class="line">    <span class="attr">github:</span> <span class="string">git@github.com:chen020723/chen020723.github.io.git</span> <span class="comment">#把博客推送至github</span></span><br><span class="line">  <span class="attr">branch:</span> <span class="string">master</span> <span class="comment">#把博客推送至主分支</span></span><br></pre></td></tr></table></figure></li><li><p>安装hexo部署插件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 博客根目录执行</span></span><br><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure></li><li><p>如之前git未设置此刻必须设置（生成.SSH，设置Github用户名和邮箱）</p></li><li><p>博客根目录下打开Git Bash Here执行</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 本地文件部署到github新建的仓库中</span><br><span class="line">hexo d</span><br></pre></td></tr></table></figure></li><li><p>通过访问<strong>https://自己的用户名.github.io</strong>就可以访问部署到Github上的博客</p></li></ol><h2 id="Github自定义域名"><a href="#Github自定义域名" class="headerlink" title="Github自定义域名"></a>Github自定义域名</h2><ol><li>购买域名，解析：<ol><li>记录类型：CNAME</li><li>记录值：自己的用户名.github.io</li></ol></li><li>博客根目录下的source文件夹下新建CNAME文件，<strong>无后缀！</strong>，里面填入域名，保存</li><li>使用hexo d命令将博客部署到Github上</li><li>进入Github的博客仓库依次点击Setting—&gt;Page</li></ol><p><img src="https://cdn.jsdelivr.net/gh/chen020723/pic@master/img/image-20211107135714801.png" alt="image-20211107135714801"></p><h1 id="又拍云CDN全站加速"><a href="#又拍云CDN全站加速" class="headerlink" title="又拍云CDN全站加速"></a>又拍云CDN全站加速</h1><h2 id="注册"><a href="#注册" class="headerlink" title="注册"></a>注册</h2><ol><li><p>注册又拍云：**<a href="https://console.upyun.com/register/?invite=BkHDGCzMw">点我注册</a>**</p></li><li><p>加入又拍云联盟：<a href="https://www.upyun.com/league">https://www.upyun.com/league</a> 点击申请</p></li></ol><h2 id="创建CDN服务"><a href="#创建CDN服务" class="headerlink" title="创建CDN服务"></a>创建CDN服务</h2><ol><li>创建CDN</li></ol><p><img src="https://cdn.jsdelivr.net/gh/chen020723/pic@master/img/2021-11-07_144420.jpg" alt="2021-11-07_144420"></p><ol start="2"><li>又拍云提供的CNAME地址（进入服务-》域名管理），去域名提供商解析到加速域名</li><li>GitHub Pages需取消强制HTTPS</li></ol><h2 id="配置-2"><a href="#配置-2" class="headerlink" title="配置"></a>配置</h2><p>进入CDN服务配置</p><ol><li><p>配置SSL</p><ul><li>进入HTTPS设置</li><li>申请免费SSL证书：<ul><li>又拍云申请</li><li>域名服务商申请</li></ul></li><li>开启HTTPS</li></ul></li><li><p>优化配置</p><ul><li><p>开启 Gzip 和 Brotli，压缩级别调到3</p></li><li><p>开启页面压缩</p></li><li><p>HTTP 302 调度</p></li><li><p>开启TLS1.3，最低建议TLSv1.1</p></li><li><p>开启 HTTP/2 + Server Push</p></li><li><p>WebP 自适应</p></li><li><p>开启源站资源迁移</p></li></ul></li><li><p>IP访问限制</p><p><img src="https://cdn.jsdelivr.net/gh/chen020723/pic@master/img/image-20200826104652023.png"></p></li><li><p>CC防护</p><p><img src="https://cdn.jsdelivr.net/gh/chen020723/pic@master/img/image-20200826104833875.png"></p></li></ol><h1 id="jsDelivr-Github做图床"><a href="#jsDelivr-Github做图床" class="headerlink" title="jsDelivr+Github做图床"></a>jsDelivr+Github做图床</h1><ol><li><p>创建 Github 仓库，名字随意，并使用readme.md初始化仓库</p></li><li><p>获取 token，生成的token保存</p><p><img src="https://cdn.jsdelivr.net/gh/chen020723/pic@master/img/image-20211107151745392.png" alt="image-20211107151745392"></p></li><li><p>填入 PicGo 配置</p><p><img src="https://cdn.jsdelivr.net/gh/chen020723/pic@master/img/snipaste_20211107_152156.png"></p><p>自定义域名：<a href="https://cdn.jsdelivr.net/gh/%E7%94%A8%E6%88%B7%E5%90%8D/%E4%BB%93%E5%BA%93%E5%90%8D@master">https://cdn.jsdelivr.net/gh/用户名/仓库名@master</a></p></li></ol><h1 id="Typora集成PicGo"><a href="#Typora集成PicGo" class="headerlink" title="Typora集成PicGo"></a>Typora集成PicGo</h1><h2 id="PicGO-2-3-0"><a href="#PicGO-2-3-0" class="headerlink" title="PicGO 2.3.0"></a>PicGO 2.3.0</h2><p>激活 PicGo-Server，进入 PicGo 设置–设置 Server，默认</p><h2 id="Typora-0-9-86"><a href="#Typora-0-9-86" class="headerlink" title="Typora 0.9.86"></a>Typora 0.9.86</h2><p>（文件-&gt;偏好设置-&gt;图像）</p><p><img src="https://cdn.jsdelivr.net/gh/chen020723/pic@master/img/image-20211107152722112.png" alt="image-20211107152722112"></p><h1 id="推荐插件和配置"><a href="#推荐插件和配置" class="headerlink" title="推荐插件和配置"></a>推荐插件和配置</h1><h2 id="文章生成永久url连接-1"><a href="#文章生成永久url连接-1" class="headerlink" title="文章生成永久url连接"></a>文章生成永久url连接</h2><ol><li><p>首先安装插件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-abbrlink --save</span><br></pre></td></tr></table></figure></li><li><p>然后改配置(_config.yml)</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 改动的地方</span></span><br><span class="line"><span class="attr">url:</span> <span class="string">http://youthlql.gitee.io</span></span><br><span class="line"><span class="attr">root:</span> <span class="string">/</span></span><br><span class="line"><span class="comment">#permalink: :year/:month/:day/:title/</span></span><br><span class="line"><span class="attr">permalink:</span> <span class="string">post/:abbrlink.html</span></span><br><span class="line"><span class="attr">abbrlink:</span></span><br><span class="line">  <span class="attr">alg:</span> <span class="string">crc32</span>  <span class="comment"># 算法：crc16(default) and crc32</span></span><br><span class="line">  <span class="attr">rep:</span> <span class="string">hex</span>    <span class="comment"># 进制：dec(default) and hex</span></span><br><span class="line"><span class="attr">permalink_defaults:</span></span><br><span class="line"><span class="attr">pretty_urls:</span></span><br><span class="line">  <span class="attr">trailing_index:</span> <span class="literal">true</span> <span class="comment"># Set to false to remove trailing &#x27;index.html&#x27; from permalinks</span></span><br><span class="line">  <span class="attr">trailing_html:</span> <span class="literal">true</span> <span class="comment"># Set to false to remove trailing &#x27;.html&#x27; from permalinks</span></span><br></pre></td></tr></table></figure></li></ol><h1 id="美化"><a href="#美化" class="headerlink" title="美化"></a>美化</h1><p>butterfly主题下：</p><h2 id="css"><a href="#css" class="headerlink" title="css"></a>css</h2><p>source-&gt;css-&gt;新建任意名字.css</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">1.每一个不同地方的css会空两行</span></span><br><span class="line"><span class="comment">2.参考: https://www.antmoe.com/posts/a811d614/</span></span><br><span class="line"><span class="comment">  https://butterfly.lete114.top/article/Butterfly-config.html</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 版权链接去掉下划线 */</span></span><br><span class="line"><span class="selector-class">.layout_post</span> <span class="selector-class">.post-copyright</span> <span class="selector-class">.post-copyright-info</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">text-decoration</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 博主昵称颜色 --也就是首页侧边栏头像下面那个昵称*/</span></span><br><span class="line"><span class="selector-class">.author-info__name</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#121a2a</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 页脚透明 */</span></span><br><span class="line"><span class="selector-id">#footer</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: transparent <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 首页中间打字效果上方 */</span></span><br><span class="line"><span class="selector-id">#page-header</span> <span class="selector-id">#site_title</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#80bdab</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 顶部导航栏 */</span></span><br><span class="line"><span class="selector-id">#nav</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#f9f2f4</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*页脚自定义字段字体颜色,也就是配置文件里的footer_custom_text*/</span></span><br><span class="line"><span class="selector-class">.footer_custom_text</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#EEEEEE</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*鼠标样式*/</span></span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">    <span class="attribute">cursor</span>: <span class="built_in">url</span>(<span class="string">https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/Hexo/img/default.cur</span>),</span><br><span class="line">        default;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">a</span>,</span><br><span class="line"><span class="selector-tag">img</span> &#123;</span><br><span class="line">    <span class="attribute">cursor</span>: <span class="built_in">url</span>(<span class="string">https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/Hexo/img/pointer.cur</span>),</span><br><span class="line">        default;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 滚动条 */</span></span><br><span class="line">::-webkit-scrollbar &#123;</span><br><span class="line">  width: <span class="number">14px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">14px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">::-webkit-scrollbar-track &#123;</span><br><span class="line">  background-color: <span class="built_in">rgba</span>( <span class="number">86</span>, <span class="number">190</span>, <span class="number">150</span>, <span class="number">0.2</span>);</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">2em</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">::-webkit-scrollbar-thumb &#123;</span><br><span class="line">  background-color: <span class="number">#4BB994</span>;</span><br><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">-webkit-linear-gradient</span>(</span><br><span class="line">    <span class="number">45deg</span>,</span><br><span class="line">    <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.4</span>) <span class="number">25%</span>,</span><br><span class="line">    transparent <span class="number">25%</span>,</span><br><span class="line">    transparent <span class="number">50%</span>,</span><br><span class="line">    <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.4</span>) <span class="number">50%</span>,</span><br><span class="line">    <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.4</span>) <span class="number">75%</span>,</span><br><span class="line">    transparent <span class="number">75%</span>,</span><br><span class="line">    transparent</span><br><span class="line">  );</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">2em</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">::-webkit-scrollbar-corner &#123;</span><br><span class="line">  background-color: transparent;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">::-moz-selection &#123;</span><br><span class="line">  color: <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#4BB994</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* a标签默认颜色 */</span></span><br><span class="line"><span class="selector-id">#article-container</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#00c4b6</span>;</span><br><span class="line">    <span class="attribute">text-decoration</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 鼠标悬停时的颜色 */</span></span><br><span class="line"><span class="selector-id">#article-container</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#e58a8a</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*a标签颜色*/</span></span><br><span class="line"><span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#00c4b6</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*文章顶部图透明*/</span></span><br><span class="line"><span class="selector-id">#page-header</span> &#123;</span><br><span class="line">     <span class="attribute">background</span>: transparent <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#page-header</span><span class="selector-class">.post-bg</span>:before &#123;</span><br><span class="line">     position: absolute;</span><br><span class="line">     <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">     <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">     <span class="attribute">display</span>: block;</span><br><span class="line">     <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">     <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">     <span class="attribute">background</span>: transparent <span class="meta">!important</span>; <span class="comment">/*这个rgba可以自己改*/</span></span><br><span class="line">     <span class="attribute">content</span>: <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*--------------------下面是暂时用不到的css样式--------------------*/</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 自定义字体，暂时用不到先注释掉*/</span></span><br><span class="line"><span class="comment">/* @font-face &#123;</span></span><br><span class="line"><span class="comment">    font-family: &#x27;mycustom_font&#x27;;</span></span><br><span class="line"><span class="comment">    src: url(&#x27;https://cdn.jsdelivr.net/gh/youthlql/static/font/chun_feng_kai.ttf&#x27;);</span></span><br><span class="line"><span class="comment">font-size: 16px;</span></span><br><span class="line"><span class="comment">&#125; */</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="js"><a href="#js" class="headerlink" title="js"></a>js</h2><p>source-&gt;js-&gt;新建任意名字.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//随机背景图片数组,图片可以换成图床链接，注意最后一条后面不要有逗号</span></span><br><span class="line"><span class="keyword">var</span> backimg =[</span><br><span class="line">  <span class="string">&quot;url(https://cdn.jsdelivr.net/gh/chen020723/pic@master/img/shan.jpg)&quot;</span></span><br><span class="line">  ];</span><br><span class="line">  <span class="comment">//获取背景图片总数，生成随机数</span></span><br><span class="line">  <span class="keyword">var</span> bgindex =<span class="built_in">Math</span>.ceil(<span class="built_in">Math</span>.random() * (backimg.length-<span class="number">1</span>));</span><br><span class="line">  <span class="comment">//重设背景图片</span></span><br><span class="line">  <span class="built_in">document</span>.getElementById(<span class="string">&quot;web_bg&quot;</span>).style.backgroundImage = backimg[bgindex];</span><br><span class="line">  <span class="comment">//重设banner图片</span></span><br><span class="line">  <span class="built_in">document</span>.getElementById(<span class="string">&quot;page-header&quot;</span>).style.backgroundImage = backimg[bgindex];</span><br></pre></td></tr></table></figure><h2 id="引入js，css"><a href="#引入js，css" class="headerlink" title="引入js，css"></a>引入js，css</h2><p>主题配置</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;https://hexo.pifrij.cn/css/Lete.css&quot;&gt;</span></span><br><span class="line">  <span class="attr">bottom:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">src=&quot;https://hexo.pifrij.cn/js/Lete.js&quot;&gt;&lt;/script&gt;</span></span><br></pre></td></tr></table></figure><h1 id="阿里自定义图标"><a href="#阿里自定义图标" class="headerlink" title="阿里自定义图标"></a>阿里自定义图标</h1><p><a href="https://www.iconfont.cn/home/index">阿里图标库</a></p><ol><li>搜索图标然后加入你的项目</li></ol><p><a href="https://cdn.jsdelivr.net/gh/youthlql/lqlp@v1.2.0/Hexo/build/0022.png"><img src="https://cdn.jsdelivr.net/gh/chen020723/pic@master/img/0022.png" alt="img"></a></p><ol start="2"><li>访问你的那个链接，然后将代码复制到你自己的css文件里，然后像这样给其设置颜色</li></ol><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">CSS</span><br><span class="line"><span class="selector-class">.icon-shuji</span>:before &#123;</span><br><span class="line">  content: <span class="string">&quot;\e609&quot;</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#59AAFF</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="3"><li>最后把你的css和js引入到配置文件中</li></ol><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;https://hexo.pifrij.cn/css/icon.css&quot;&gt;</span></span><br><span class="line">  <span class="attr">bottom:</span></span><br></pre></td></tr></table></figure><h1 id="站长之家统计"><a href="#站长之家统计" class="headerlink" title="站长之家统计"></a>站长之家统计</h1><ol><li><p><a href="https://www.umeng.com/">友盟+</a> ，产品-&gt;网站统计 U-Web</p></li><li><p>点击统计代码</p></li><li><p>复制下方的<strong>横排数据显示</strong>代码到 <code>custom_text</code></p></li></ol><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">footer:</span></span><br><span class="line">  <span class="attr">owner:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">since:</span> <span class="number">2020</span></span><br><span class="line">  <span class="attr">custom_text:</span> </span><br><span class="line">  <span class="attr">copyright:</span> <span class="literal">true</span> <span class="comment"># Copyright of theme and framework</span></span><br></pre></td></tr></table></figure><p>结尾</p><p>参考文档：</p><p><a href="https://imlql.cn/post/bb283ed3.html">Youth的时光录</a></p><p><a href="https://www.heson10.com/posts/30982.html">黑石博客</a></p><p><a href="https://butterfly.lete114.top/article/Butterfly-config.html#%E5%BC%95%E5%85%A5">Lete乐特 ’s Blog</a></p><p><a href="https://butterfly.js.org/">Butterfly</a></p><p><a href="https://twikoo.js.org/quick-start.html#%E4%BA%91%E5%87%BD%E6%95%B0%E9%83%A8%E7%BD%B2">Twikoo 中文文档</a></p>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
